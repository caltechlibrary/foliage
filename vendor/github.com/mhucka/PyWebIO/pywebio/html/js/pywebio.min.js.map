{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/marked/lib/marked.js","src/handlers/base.ts","src/handlers/download.ts","src/handlers/env.ts","src/handlers/input.ts","src/handlers/output.ts","src/handlers/pin.ts","src/handlers/popup.ts","src/handlers/script.ts","src/handlers/toast.ts","src/i18n.ts","src/main.ts","src/models/input/actions.ts","src/models/input/base.ts","src/models/input/checkbox_radio.ts","src/models/input/file.ts","src/models/input/index.ts","src/models/input/input.ts","src/models/input/select.ts","src/models/input/slider.ts","src/models/input/textarea.ts","src/models/output.ts","src/models/pin.ts","src/session.ts","src/state.ts","src/ui.ts","src/utils.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","global","factory","this","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_arrayLikeToArray","arr","len","arr2","Array","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","isArray","minLen","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","done","value","TypeError","next","bind","defaults","fn","createCommonjsModule","getDefaults","baseUrl","breaks","gfm","headerIds","headerPrefix","highlight","langPrefix","mangle","pedantic","renderer","sanitize","sanitizer","silent","smartLists","smartypants","tokenizer","walkTokens","xhtml","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","&","<",">","\"","'","getEscapeReplacement","ch","unescapeTest","unescape","html","replace","_","toLowerCase","charAt","String","fromCharCode","parseInt","substring","caret","nonWordAndColonTest","originIndependentUrl","baseUrls","justDomain","protocol","domain","resolveUrl","base","href","rtrim","relativeBase","indexOf","str","invert","l","suffLen","currChar","substr","helpers","encode","regex","opt","source","obj","val","getRegex","RegExp","prot","decodeURIComponent","encodeURI","exec","arguments","hasOwnProperty","tableRow","count","cells","match","offset","escaped","curr","split","splice","push","trim","b","level","console","warn","pattern","result","defaults$1","rtrim$1","splitCells$1","_escape","findClosingBracket$1","outputLink","cap","link","raw","title","text","type","Tokenizer_1","Tokenizer","options","_proto","space","src","rules","block","newline","tokens","lastToken","trimRight","codeBlockStyle","fences","matchIndentToCode","indentToCode","map","node","matchIndentInNode","join","indentCodeCompensation","lang","heading","trimmed","depth","nptable","item","header","align","hr","blockquote","list","bcurr","bnext","addBack","loose","istask","ischecked","bull","isordered","ordered","start","items","itemMatch","listItemStart","undefined","task","checked","pre","def","tag","table","lheading","paragraph","escape","inline","inLink","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","_escapes","reflink","links","nolink","strong","maskedSrc","prevChar","punctuation","endReg","endAst","endUnd","lastIndex","middle","index","em","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","br","del","autolink","url","prevCapZero","_backpedal","inlineText","noopTest$1","edit$1","merge$1","_paragraph","_label","_title","bullet","_tag","_comment","normal","reflinkSearch","_punctuation","_blockSkip","_overlapSkip","blockSkip","overlapSkip","_scheme","_email","_attribute","_href","_extended_email","defaults$2","block$1","inline$1","repeatString$1","out","charCodeAt","Math","random","Lexer_1","Lexer","create","lex","lexInline","inlineTokens","Constructor","protoProps","staticProps","blockTokens","top","token","errMsg","error","j","k","l2","row","keepPrevChar","keys","includes","lastIndexOf","get","defaults$3","cleanUrl$1","escape$1","Renderer_1","Renderer","_code","infostring","quote","_html","slugger","slug","body","listitem","checkbox","tablerow","content","tablecell","flags","image","_text","TextRenderer_1","TextRenderer","Slugger_1","Slugger","seen","serialize","getNextSafeSlug","originalSlug","isDryRun","occurenceAccumulator","dryrun","defaults$4","unescape$1","Parser_1","Parser","textRenderer","parse","parseInline","l3","cell","itemBody","unshift","merge$2","checkSanitizeDeprecation$1","escape$2","defaults$5","marked","callback","err","pending","setTimeout","_tokens","message","setOptions","use","extension","opts","_loop","prop","prevRenderer","_len","args","_key","ret","apply","_loop2","prevTokenizer","_len2","_key2","_step","_iterator","_step2","_iterator2","_step3","_iterator3","_step4","_iterator4","_cell","parser","lexer","define","amd","globalThis","self","SessionCtrlHandler","session","_classCallCheck","accept_command","msg","command","close_session","webio_session_id","spec","CommandDispatcher","command2handler","handlers","_iteratorNormalCompletion","_didIteratorError","_iteratorError","h","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","cmd","return","handle_message","utils_1","DownloadHandler","blob","b64toBlob","saveAs","session_1","state_1","EnvSettingHandler","document","auto_scroll_bottom","state","AutoScrollBottom","output_animation","config","outputAnimation","http_pull_interval","CurrentSession","HttpSession","change_pull_interval","input_panel_min_height","InputPanelMinHeight","input_panel_init_height","InputPanelInitHeight","input_panel_fixed","FixedInputPanel","input_auto_focus","AutoFocusOnInput","output_max_width","$","css","input_1","ui_1","i18n_1","InputHandler","container_elem","form_ctrls","LRUMap","curr_card","style","height","width","show_input","old_ctrls","get_top","after_show","focus","task_id","old_ctrl","_this","ctrls","get_value","ctrl","element","show","ShowDuration","_after_show_form","move_to_top","hide","_this2","target_ctrls","make_set","FormController","append","create_element","after_add_to_dom","_activate_form","dispatch_ctrl_message","deleted","pop","remove","close_input","name2input","show_count","_this3","tpl","that","Mustache","render","label","cancelable","find","on","send_message","event","data","inputs","buttons","idx","input_spec","input_items","item_class","input_item","event_name","preventDefault","check_valid","error_alert","data_keys","data_values","each","on_process","loaded","total","make_progress","Promise","all","then","values","input_data","files","_toConsumableArray","send_buffer","Blob","serialize_json","concat","elem","bar","progress","toFixed","attr","target_name","update_input","cls","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","accept_input_types","all_input_items","_iteratorNormalCompletion4","register_inputitem","output_1","DISPLAY_NONE_TAGS","after_show_callbacks","trigger_output_widget_show_event","cb","AfterCurrentOutputWidgetShow","OutputHandler","container_parent","parent","body_scroll_to","tagName","output_to_root","getWidgetElement","JSON","stringify","scope","is_elem_visible","position","prepend","con","pos","children","eq","insertBefore","insertAfter","fadeIn","complete","scroll_bottom","handle_output_ctl","set_scope","container","old","if_exist","empty","clear","clear_before","prevAll","clear_after","scroll_to","clear_range","removed","valid","id","pin_1","PinHandler","GetPinValue","PinUpdate","attributes","WaitChange","names","timeout","resolve","catch","output_2","PopupHandler","current_elem","modal","get_element","closable","implicit_close","render_tpl","assign","large","size","small","ScriptHandler","script","arg_names","arg_vals","res","Function","log","eval","ToastHandler","toast","Toastify","duration","close","gravity","backgroundColor","color","stopOnFocus","onClick","callback_id","hideToast","showToast","userLangCode","navigator","language","userLanguage","userLang","translations","en","disconnected_with_server","connect_fail","error_in_input","file_size_exceed","file_total_size_exceed","submit","reset","cancel","duplicated_pin_name","browse_file","duplicated_scope_name","zh","ru","strfmt","fmt","p1","msgid","_arr","_i","base_1","popup_1","script_1","download_1","toast_1","env_1","window","WebIO","_state","startWebIOClient","runtime_config","addr","backend_addr","backend_address","URL","location","start_session","is_http","webio_session","output_container_elem","input_container_elem","on_session_create","on_session_close","output_ctrl","input_ctrl","popup_ctrl","session_ctrl","script_ctrl","pin_ctrl","download_ctrl","toast_ctrl","env_ctrl","dispatcher","on_server_message","dispatch_message","set_up_session","app_name","httpPullInterval","WebSocketSession","debug","is_http_backend","openApp","Actions","on_input_event","_possibleConstructorReturn","__proto__","getPrototypeOf","submit_value","btns","btn","onchange","parents","trigger","target_value","update_input_helper","InputItem","first_show","input_idx","attr2selector","invalid_feedback","valid_feedback","help_text","attribute","input_elem","class_name","valid_status","removeClass","addClass","options_tpl","CheckboxRadio","setup_spec","setup_input_options","deep_copy","id_name_prefix","floor","onblur","selected","item_val","_spec","before","raw_val","value_arr","serializeArray","File","id_name","ignore_keys","placeholder","total_size","file","max_size","_formate_size","max_total_size","serialize_file","s","bsCustomFileInput","init","actions_1","checkbox_radio_1","textarea_1","file_1","select_1","slider_1","Input","Textarea","Select","Slider","get_input_item_from_type","type2item","datalist_tpl","action","datalist","multiple","datalist_html","parseFloat","setup_select_options","opts_html","code_mirror","code_mirror_config","theme","lineNumbers","indentUnit","styleActiveLine","matchBrackets","lineWrapping","autoRefresh","extraKeys","F11","cm","setOption","getOption","Esc","mode","CodeMirror","modeURL","codeMirrorModeURL","origin_mode","mode_info","findModeByExtension","findModeByMIME","readonly","disabled","load_codemirror_theme","setValue","getValue","fromTextArea","autoLoadMode","instance","changeObj","setSize","rows","url_tpl","codeMirrorThemeURL","cssId","getElementById","head","getElementsByTagName","createElement","rel","media","appendChild","Text","handle_type","createTextNode","parseHtml","html_str","nodes","parseHTML","Prism","languages","ScopeWidget","dom_id","tip","all_widgets","DOMPurify","outline","pushData","table_data","row_id","col_id","_data","_typeof","span","tdata","template","tabs","PinWidget","type2widget","w","old_style","click_callback_id","container_dom_id","container_selector","placeholder2spec","outerHTML","randomid","names2id","cnt","sub_elem","replaceWith","index_1","onchange_callbacks","promises","race","input","resolve_list","trigger_onchange_event","safe_poprun_callbacks","callbacks","ws_api","_session_create_ts","_session_create_callbacks","_session_close_callbacks","_on_server_message","ws","_closed","search","set_ws_api","Date","now","WebSocket","onopen","onclose","evt","onmessage","info","onprogress","bufferedAmount","onprogressID","setInterval","clearInterval","closed","send","start_onprogress","readyState","CLOSED","CLOSING","api_url","pull_interval_ms","interval_pull_id","pull","ajax","contentType","dataType","headers","webio-session-id","success","textStatus","jqXHR","_on_request_success","sid","getResponseHeader","_send","cache","processData","xhr","XMLHttpRequest","upload","addEventListener","lengthComputable","new_interval","_this4","reject","fail","has_input","input_panel","input_cards","end_space","hasClass","input_min_fixed_height","min_fixed_height","max","now_height","min","toggle_input_panel_style","fixed","init_fixed_height","move_input_panel","step","new_height","getBoundingClientRect","lastScrollTop","st","pageYOffset","documentElement","scrollTop","downmove","upmove","innerHeight","deltaY","last_y","changedTouches","screenY","variation","top_key","json_obj","json_str","json_buf","TextEncoder","buffer","int2bytes","byteLength","num","buf","ArrayBuffer","dataView","DataView","setUint32","b64Data","sliceSize","byteCharacters","atob","byteArrays","byteNumbers","byteArray","Uint8Array","set","clientHeight","speed","abs","stop","animate","box_scroll_to","scrollTopOffset","bottom","characters","charactersLength","new_window","searchParams","open","input_name","filename","mime_type","last_modified","lastModified"],"mappings":"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","file":"pywebio.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.marked = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n        return function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n\n  function createCommonjsModule(fn) {\n    var module = { exports: {} };\n  \treturn fn(module, module.exports), module.exports;\n  }\n\n  var defaults = createCommonjsModule(function (module) {\n    function getDefaults() {\n      return {\n        baseUrl: null,\n        breaks: false,\n        gfm: true,\n        headerIds: true,\n        headerPrefix: '',\n        highlight: null,\n        langPrefix: 'language-',\n        mangle: true,\n        pedantic: false,\n        renderer: null,\n        sanitize: false,\n        sanitizer: null,\n        silent: false,\n        smartLists: false,\n        smartypants: false,\n        tokenizer: null,\n        walkTokens: null,\n        xhtml: false\n      };\n    }\n\n    function changeDefaults(newDefaults) {\n      module.exports.defaults = newDefaults;\n    }\n\n    module.exports = {\n      defaults: getDefaults(),\n      getDefaults: getDefaults,\n      changeDefaults: changeDefaults\n    };\n  });\n\n  /**\n   * Helpers\n   */\n  var escapeTest = /[&<>\"']/;\n  var escapeReplace = /[&<>\"']/g;\n  var escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n  var escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n  var escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  var getEscapeReplacement = function getEscapeReplacement(ch) {\n    return escapeReplacements[ch];\n  };\n\n  function escape(html, encode) {\n    if (encode) {\n      if (escapeTest.test(html)) {\n        return html.replace(escapeReplace, getEscapeReplacement);\n      }\n    } else {\n      if (escapeTestNoEncode.test(html)) {\n        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n      }\n    }\n\n    return html;\n  }\n\n  var unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\n  function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, function (_, n) {\n      n = n.toLowerCase();\n      if (n === 'colon') return ':';\n\n      if (n.charAt(0) === '#') {\n        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n      }\n\n      return '';\n    });\n  }\n\n  var caret = /(^|[^\\[])\\^/g;\n\n  function edit(regex, opt) {\n    regex = regex.source || regex;\n    opt = opt || '';\n    var obj = {\n      replace: function replace(name, val) {\n        val = val.source || val;\n        val = val.replace(caret, '$1');\n        regex = regex.replace(name, val);\n        return obj;\n      },\n      getRegex: function getRegex() {\n        return new RegExp(regex, opt);\n      }\n    };\n    return obj;\n  }\n\n  var nonWordAndColonTest = /[^\\w:]/g;\n  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n  function cleanUrl(sanitize, base, href) {\n    if (sanitize) {\n      var prot;\n\n      try {\n        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n      } catch (e) {\n        return null;\n      }\n\n      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n        return null;\n      }\n    }\n\n    if (base && !originIndependentUrl.test(href)) {\n      href = resolveUrl(base, href);\n    }\n\n    try {\n      href = encodeURI(href).replace(/%25/g, '%');\n    } catch (e) {\n      return null;\n    }\n\n    return href;\n  }\n\n  var baseUrls = {};\n  var justDomain = /^[^:]+:\\/*[^/]*$/;\n  var protocol = /^([^:]+:)[\\s\\S]*$/;\n  var domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\n  function resolveUrl(base, href) {\n    if (!baseUrls[' ' + base]) {\n      // we can ignore everything in base after the last slash of its path component,\n      // but we might need to add _that_\n      // https://tools.ietf.org/html/rfc3986#section-3\n      if (justDomain.test(base)) {\n        baseUrls[' ' + base] = base + '/';\n      } else {\n        baseUrls[' ' + base] = rtrim(base, '/', true);\n      }\n    }\n\n    base = baseUrls[' ' + base];\n    var relativeBase = base.indexOf(':') === -1;\n\n    if (href.substring(0, 2) === '//') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(protocol, '$1') + href;\n    } else if (href.charAt(0) === '/') {\n      if (relativeBase) {\n        return href;\n      }\n\n      return base.replace(domain, '$1') + href;\n    } else {\n      return base + href;\n    }\n  }\n\n  var noopTest = {\n    exec: function noopTest() {}\n  };\n\n  function merge(obj) {\n    var i = 1,\n        target,\n        key;\n\n    for (; i < arguments.length; i++) {\n      target = arguments[i];\n\n      for (key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n          obj[key] = target[key];\n        }\n      }\n    }\n\n    return obj;\n  }\n\n  function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n      var escaped = false,\n          curr = offset;\n\n      while (--curr >= 0 && str[curr] === '\\\\') {\n        escaped = !escaped;\n      }\n\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n        cells = row.split(/ \\|/);\n    var i = 0;\n\n    if (cells.length > count) {\n      cells.splice(count);\n    } else {\n      while (cells.length < count) {\n        cells.push('');\n      }\n    }\n\n    for (; i < cells.length; i++) {\n      // leading or trailing whitespace is ignored per the gfm spec\n      cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n\n    return cells;\n  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n  // /c*$/ is vulnerable to REDOS.\n  // invert: Remove suffix of non-c chars instead. Default falsey.\n\n\n  function rtrim(str, c, invert) {\n    var l = str.length;\n\n    if (l === 0) {\n      return '';\n    } // Length of suffix matching the invert condition.\n\n\n    var suffLen = 0; // Step left until we fail to match the invert condition.\n\n    while (suffLen < l) {\n      var currChar = str.charAt(l - suffLen - 1);\n\n      if (currChar === c && !invert) {\n        suffLen++;\n      } else if (currChar !== c && invert) {\n        suffLen++;\n      } else {\n        break;\n      }\n    }\n\n    return str.substr(0, l - suffLen);\n  }\n\n  function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n      return -1;\n    }\n\n    var l = str.length;\n    var level = 0,\n        i = 0;\n\n    for (; i < l; i++) {\n      if (str[i] === '\\\\') {\n        i++;\n      } else if (str[i] === b[0]) {\n        level++;\n      } else if (str[i] === b[1]) {\n        level--;\n\n        if (level < 0) {\n          return i;\n        }\n      }\n    }\n\n    return -1;\n  }\n\n  function checkSanitizeDeprecation(opt) {\n    if (opt && opt.sanitize && !opt.silent) {\n      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n    }\n  } // copied from https://stackoverflow.com/a/5450113/806777\n\n\n  function repeatString(pattern, count) {\n    if (count < 1) {\n      return '';\n    }\n\n    var result = '';\n\n    while (count > 1) {\n      if (count & 1) {\n        result += pattern;\n      }\n\n      count >>= 1;\n      pattern += pattern;\n    }\n\n    return result + pattern;\n  }\n\n  var helpers = {\n    escape: escape,\n    unescape: unescape,\n    edit: edit,\n    cleanUrl: cleanUrl,\n    resolveUrl: resolveUrl,\n    noopTest: noopTest,\n    merge: merge,\n    splitCells: splitCells,\n    rtrim: rtrim,\n    findClosingBracket: findClosingBracket,\n    checkSanitizeDeprecation: checkSanitizeDeprecation,\n    repeatString: repeatString\n  };\n\n  var defaults$1 = defaults.defaults;\n  var rtrim$1 = helpers.rtrim,\n      splitCells$1 = helpers.splitCells,\n      _escape = helpers.escape,\n      findClosingBracket$1 = helpers.findClosingBracket;\n\n  function outputLink(cap, link, raw) {\n    var href = link.href;\n    var title = link.title ? _escape(link.title) : null;\n    var text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n    if (cap[0].charAt(0) !== '!') {\n      return {\n        type: 'link',\n        raw: raw,\n        href: href,\n        title: title,\n        text: text\n      };\n    } else {\n      return {\n        type: 'image',\n        raw: raw,\n        href: href,\n        title: title,\n        text: _escape(text)\n      };\n    }\n  }\n\n  function indentCodeCompensation(raw, text) {\n    var matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n    if (matchIndentToCode === null) {\n      return text;\n    }\n\n    var indentToCode = matchIndentToCode[1];\n    return text.split('\\n').map(function (node) {\n      var matchIndentInNode = node.match(/^\\s+/);\n\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      var indentInNode = matchIndentInNode[0];\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    }).join('\\n');\n  }\n  /**\n   * Tokenizer\n   */\n\n\n  var Tokenizer_1 = /*#__PURE__*/function () {\n    function Tokenizer(options) {\n      this.options = options || defaults$1;\n    }\n\n    var _proto = Tokenizer.prototype;\n\n    _proto.space = function space(src) {\n      var cap = this.rules.block.newline.exec(src);\n\n      if (cap) {\n        if (cap[0].length > 1) {\n          return {\n            type: 'space',\n            raw: cap[0]\n          };\n        }\n\n        return {\n          raw: '\\n'\n        };\n      }\n    };\n\n    _proto.code = function code(src, tokens) {\n      var cap = this.rules.block.code.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n        if (lastToken && lastToken.type === 'paragraph') {\n          return {\n            raw: cap[0],\n            text: cap[0].trimRight()\n          };\n        }\n\n        var text = cap[0].replace(/^ {1,4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim$1(text, '\\n') : text\n        };\n      }\n    };\n\n    _proto.fences = function fences(src) {\n      var cap = this.rules.block.fences.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var text = indentCodeCompensation(raw, cap[3] || '');\n        return {\n          type: 'code',\n          raw: raw,\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: text\n        };\n      }\n    };\n\n    _proto.heading = function heading(src) {\n      var cap = this.rules.block.heading.exec(src);\n\n      if (cap) {\n        var text = cap[2].trim(); // remove trailing #s\n\n        if (/#$/.test(text)) {\n          var trimmed = rtrim$1(text, '#');\n\n          if (this.options.pedantic) {\n            text = trimmed.trim();\n          } else if (!trimmed || / $/.test(trimmed)) {\n            // CommonMark requires space before trailing #s\n            text = trimmed.trim();\n          }\n        }\n\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[1].length,\n          text: text\n        };\n      }\n    };\n\n    _proto.nptable = function nptable(src) {\n      var cap = this.rules.block.nptable.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n          raw: cap[0]\n        };\n\n        if (item.header.length === item.align.length) {\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i], item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.hr = function hr(src) {\n      var cap = this.rules.block.hr.exec(src);\n\n      if (cap) {\n        return {\n          type: 'hr',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.blockquote = function blockquote(src) {\n      var cap = this.rules.block.blockquote.exec(src);\n\n      if (cap) {\n        var text = cap[0].replace(/^ *> ?/gm, '');\n        return {\n          type: 'blockquote',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.list = function list(src) {\n      var cap = this.rules.block.list.exec(src);\n\n      if (cap) {\n        var raw = cap[0];\n        var bull = cap[2];\n        var isordered = bull.length > 1;\n        var list = {\n          type: 'list',\n          raw: raw,\n          ordered: isordered,\n          start: isordered ? +bull.slice(0, -1) : '',\n          loose: false,\n          items: []\n        }; // Get each top-level item.\n\n        var itemMatch = cap[0].match(this.rules.block.item);\n        var next = false,\n            item,\n            space,\n            bcurr,\n            bnext,\n            addBack,\n            loose,\n            istask,\n            ischecked;\n        var l = itemMatch.length;\n        bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n\n        for (var i = 0; i < l; i++) {\n          item = itemMatch[i];\n          raw = item; // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n\n          if (i !== l - 1) {\n            bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n\n            if (bnext[1].length > bcurr[0].length || bnext[1].length > 3) {\n              // nested list\n              itemMatch.splice(i, 2, itemMatch[i] + '\\n' + itemMatch[i + 1]);\n              i--;\n              l--;\n              continue;\n            } else {\n              if ( // different bullet style\n              !this.options.pedantic || this.options.smartLists ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1] : isordered === (bnext[2].length === 1)) {\n                addBack = itemMatch.slice(i + 1).join('\\n');\n                list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n                i = l - 1;\n              }\n            }\n\n            bcurr = bnext;\n          } // Remove the list item's bullet\n          // so it is seen as the next token.\n\n\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, ''); // Outdent whatever the\n          // list item contains. Hacky.\n\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n          } // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n\n\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            list.loose = true;\n          } // Check for task list items\n\n\n          if (this.options.gfm) {\n            istask = /^\\[[ xX]\\] /.test(item);\n            ischecked = undefined;\n\n            if (istask) {\n              ischecked = item[1] !== ' ';\n              item = item.replace(/^\\[[ xX]\\] +/, '');\n            }\n          }\n\n          list.items.push({\n            type: 'list_item',\n            raw: raw,\n            task: istask,\n            checked: ischecked,\n            loose: loose,\n            text: item\n          });\n        }\n\n        return list;\n      }\n    };\n\n    _proto.html = function html(src) {\n      var cap = this.rules.block.html.exec(src);\n\n      if (cap) {\n        return {\n          type: this.options.sanitize ? 'paragraph' : 'html',\n          raw: cap[0],\n          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.def = function def(src) {\n      var cap = this.rules.block.def.exec(src);\n\n      if (cap) {\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        var tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        return {\n          tag: tag,\n          raw: cap[0],\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n    };\n\n    _proto.table = function table(src) {\n      var cap = this.rules.block.table.exec(src);\n\n      if (cap) {\n        var item = {\n          type: 'table',\n          header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          item.raw = cap[0];\n          var l = item.align.length;\n          var i;\n\n          for (i = 0; i < l; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          l = item.cells.length;\n\n          for (i = 0; i < l; i++) {\n            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n          }\n\n          return item;\n        }\n      }\n    };\n\n    _proto.lheading = function lheading(src) {\n      var cap = this.rules.block.lheading.exec(src);\n\n      if (cap) {\n        return {\n          type: 'heading',\n          raw: cap[0],\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        };\n      }\n    };\n\n    _proto.paragraph = function paragraph(src) {\n      var cap = this.rules.block.paragraph.exec(src);\n\n      if (cap) {\n        return {\n          type: 'paragraph',\n          raw: cap[0],\n          text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n        };\n      }\n    };\n\n    _proto.text = function text(src, tokens) {\n      var cap = this.rules.block.text.exec(src);\n\n      if (cap) {\n        var lastToken = tokens[tokens.length - 1];\n\n        if (lastToken && lastToken.type === 'text') {\n          return {\n            raw: cap[0],\n            text: cap[0]\n          };\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: cap[0]\n        };\n      }\n    };\n\n    _proto.escape = function escape(src) {\n      var cap = this.rules.inline.escape.exec(src);\n\n      if (cap) {\n        return {\n          type: 'escape',\n          raw: cap[0],\n          text: _escape(cap[1])\n        };\n      }\n    };\n\n    _proto.tag = function tag(src, inLink, inRawBlock) {\n      var cap = this.rules.inline.tag.exec(src);\n\n      if (cap) {\n        if (!inLink && /^<a /i.test(cap[0])) {\n          inLink = true;\n        } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n          inLink = false;\n        }\n\n        if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = true;\n        } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          inRawBlock = false;\n        }\n\n        return {\n          type: this.options.sanitize ? 'text' : 'html',\n          raw: cap[0],\n          inLink: inLink,\n          inRawBlock: inRawBlock,\n          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]\n        };\n      }\n    };\n\n    _proto.link = function link(src) {\n      var cap = this.rules.inline.link.exec(src);\n\n      if (cap) {\n        var trimmedUrl = cap[2].trim();\n\n        if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n          // commonmark requires matching angle brackets\n          if (!/>$/.test(trimmedUrl)) {\n            return;\n          } // ending angle bracket cannot be escaped\n\n\n          var rtrimSlash = rtrim$1(trimmedUrl.slice(0, -1), '\\\\');\n\n          if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n            return;\n          }\n        } else {\n          // find closing parenthesis\n          var lastParenIndex = findClosingBracket$1(cap[2], '()');\n\n          if (lastParenIndex > -1) {\n            var start = cap[0].indexOf('!') === 0 ? 5 : 4;\n            var linkLen = start + cap[1].length + lastParenIndex;\n            cap[2] = cap[2].substring(0, lastParenIndex);\n            cap[0] = cap[0].substring(0, linkLen).trim();\n            cap[3] = '';\n          }\n        }\n\n        var href = cap[2];\n        var title = '';\n\n        if (this.options.pedantic) {\n          // split pedantic href and title\n          var link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n\n        href = href.trim();\n\n        if (/^</.test(href)) {\n          if (this.options.pedantic && !/>$/.test(trimmedUrl)) {\n            // pedantic allows starting angle bracket without ending angle bracket\n            href = href.slice(1);\n          } else {\n            href = href.slice(1, -1);\n          }\n        }\n\n        return outputLink(cap, {\n          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n          title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n        }, cap[0]);\n      }\n    };\n\n    _proto.reflink = function reflink(src, links) {\n      var cap;\n\n      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n        var link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = links[link.toLowerCase()];\n\n        if (!link || !link.href) {\n          var text = cap[0].charAt(0);\n          return {\n            type: 'text',\n            raw: text,\n            text: text\n          };\n        }\n\n        return outputLink(cap, link, cap[0]);\n      }\n    };\n\n    _proto.strong = function strong(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.strong.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '**' ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.strong.middle.exec(maskedSrc.slice(0, match.index + 3));\n\n          if (cap) {\n            return {\n              type: 'strong',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(2, cap[0].length - 2)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.em = function em(src, maskedSrc, prevChar) {\n      if (prevChar === void 0) {\n        prevChar = '';\n      }\n\n      var match = this.rules.inline.em.start.exec(src);\n\n      if (match && (!match[1] || match[1] && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n        maskedSrc = maskedSrc.slice(-1 * src.length);\n        var endReg = match[0] === '*' ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;\n        endReg.lastIndex = 0;\n        var cap;\n\n        while ((match = endReg.exec(maskedSrc)) != null) {\n          cap = this.rules.inline.em.middle.exec(maskedSrc.slice(0, match.index + 2));\n\n          if (cap) {\n            return {\n              type: 'em',\n              raw: src.slice(0, cap[0].length),\n              text: src.slice(1, cap[0].length - 1)\n            };\n          }\n        }\n      }\n    };\n\n    _proto.codespan = function codespan(src) {\n      var cap = this.rules.inline.code.exec(src);\n\n      if (cap) {\n        var text = cap[2].replace(/\\n/g, ' ');\n        var hasNonSpaceChars = /[^ ]/.test(text);\n        var hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n\n        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n          text = text.substring(1, text.length - 1);\n        }\n\n        text = _escape(text, true);\n        return {\n          type: 'codespan',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    _proto.br = function br(src) {\n      var cap = this.rules.inline.br.exec(src);\n\n      if (cap) {\n        return {\n          type: 'br',\n          raw: cap[0]\n        };\n      }\n    };\n\n    _proto.del = function del(src) {\n      var cap = this.rules.inline.del.exec(src);\n\n      if (cap) {\n        return {\n          type: 'del',\n          raw: cap[0],\n          text: cap[2]\n        };\n      }\n    };\n\n    _proto.autolink = function autolink(src, mangle) {\n      var cap = this.rules.inline.autolink.exec(src);\n\n      if (cap) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n          href = 'mailto:' + text;\n        } else {\n          text = _escape(cap[1]);\n          href = text;\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.url = function url(src, mangle) {\n      var cap;\n\n      if (cap = this.rules.inline.url.exec(src)) {\n        var text, href;\n\n        if (cap[2] === '@') {\n          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          var prevCapZero;\n\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n\n          text = _escape(cap[0]);\n\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n\n        return {\n          type: 'link',\n          raw: cap[0],\n          text: text,\n          href: href,\n          tokens: [{\n            type: 'text',\n            raw: text,\n            text: text\n          }]\n        };\n      }\n    };\n\n    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {\n      var cap = this.rules.inline.text.exec(src);\n\n      if (cap) {\n        var text;\n\n        if (inRawBlock) {\n          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];\n        } else {\n          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n        }\n\n        return {\n          type: 'text',\n          raw: cap[0],\n          text: text\n        };\n      }\n    };\n\n    return Tokenizer;\n  }();\n\n  var noopTest$1 = helpers.noopTest,\n      edit$1 = helpers.edit,\n      merge$1 = helpers.merge;\n  /**\n   * Block-Level Grammar\n   */\n\n  var block = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?! {0,3}bull )\\n*|\\s*$)/,\n    html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n    def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n    nptable: noopTest$1,\n    table: noopTest$1,\n    lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n  };\n  block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n  block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();\n  block.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\n  block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?! *bull ?)[^\\n]*)*/;\n  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\n  block.listItemStart = edit$1(/^( *)(bull)/).replace('bull', block.bullet).getRegex();\n  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\n  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\n  block._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\n  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\n  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n  /**\n   * Normal Block Grammar\n   */\n\n  block.normal = merge$1({}, block);\n  /**\n   * GFM Block Grammar\n   */\n\n  block.gfm = merge$1({}, block.normal, {\n    nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n    + ' {0,3}([-:]+ *\\\\|[-| :]*)' // Align\n    + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n    // Cells\n    table: '^ *\\\\|(.+)\\\\n' // Header\n    + ' {0,3}\\\\|?( *[-:]+[-| :]*)' // Align\n    + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n  });\n  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n  .getRegex();\n  /**\n   * Pedantic grammar (original John Gruber's loose markdown specification)\n   */\n\n  block.pedantic = merge$1({}, block.normal, {\n    html: edit$1('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest$1,\n    // fences not supported\n    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n  });\n  /**\n   * Inline-Level Grammar\n   */\n\n  var inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest$1,\n    tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    // CDATA section\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n    nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    strong: {\n      start: /^(?:(\\*\\*(?=[*punctuation]))|\\*\\*)(?![\\s])|__/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*\\*$|^__(?![\\s])((?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?)__$/,\n      endAst: /[^punctuation\\s]\\*\\*(?!\\*)|[punctuation]\\*\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]__(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    em: {\n      start: /^(?:(\\*(?=[punctuation]))|\\*)(?![*\\s])|_/,\n      // (1) returns if starts w/ punctuation\n      middle: /^\\*(?:(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)|\\*(?:(?!overlapSkip)(?:[^*]|\\\\\\*)|overlapSkip)*?\\*)+?\\*$|^_(?![_\\s])(?:(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\\\_)|overlapSkip)*?_)+?_$/,\n      endAst: /[^punctuation\\s]\\*(?!\\*)|[punctuation]\\*(?!\\*)(?:(?=[punctuation_\\s]|$))/,\n      // last char can't be punct, or final * must also be followed by punct (or endline)\n      endUnd: /[^\\s]_(?!_)(?:(?=[punctuation*\\s])|$)/ // last char can't be a space, and final _ must preceed punct or \\s (or endline)\n\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest$1,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^([\\s*punctuation])/\n  }; // list of punctuation marks from common mark spec\n  // without * and _ to workaround cases with double emphasis\n\n  inline._punctuation = '!\"#$%&\\'()+\\\\-.,/:;<=>?@\\\\[\\\\]`^{|}~';\n  inline.punctuation = edit$1(inline.punctuation).replace(/punctuation/g, inline._punctuation).getRegex(); // sequences em should skip over [title](link), `code`, <html>\n\n  inline._blockSkip = '\\\\[[^\\\\]]*?\\\\]\\\\([^\\\\)]*?\\\\)|`[^`]*?`|<[^>]*?>';\n  inline._overlapSkip = '__[^_]*?__|\\\\*\\\\*\\\\[^\\\\*\\\\]*?\\\\*\\\\*';\n  inline._comment = edit$1(block._comment).replace('(?:-->|$)', '-->').getRegex();\n  inline.em.start = edit$1(inline.em.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.middle = edit$1(inline.em.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.em.endAst = edit$1(inline.em.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.em.endUnd = edit$1(inline.em.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.start = edit$1(inline.strong.start).replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.middle = edit$1(inline.strong.middle).replace(/punctuation/g, inline._punctuation).replace(/overlapSkip/g, inline._overlapSkip).getRegex();\n  inline.strong.endAst = edit$1(inline.strong.endAst, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.strong.endUnd = edit$1(inline.strong.endUnd, 'g').replace(/punctuation/g, inline._punctuation).getRegex();\n  inline.blockSkip = edit$1(inline._blockSkip, 'g').getRegex();\n  inline.overlapSkip = edit$1(inline._overlapSkip, 'g').getRegex();\n  inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\n  inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n  inline.tag = edit$1(inline.tag).replace('comment', inline._comment).replace('attribute', inline._attribute).getRegex();\n  inline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\n  inline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\n  inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\n  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();\n  inline.reflinkSearch = edit$1(inline.reflinkSearch, 'g').replace('reflink', inline.reflink).replace('nolink', inline.nolink).getRegex();\n  /**\n   * Normal Inline Grammar\n   */\n\n  inline.normal = merge$1({}, inline);\n  /**\n   * Pedantic Inline Grammar\n   */\n\n  inline.pedantic = merge$1({}, inline.normal, {\n    strong: {\n      start: /^__|\\*\\*/,\n      middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n      endAst: /\\*\\*(?!\\*)/g,\n      endUnd: /__(?!_)/g\n    },\n    em: {\n      start: /^_|\\*/,\n      middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n      endAst: /\\*(?!\\*)/g,\n      endUnd: /_(?!_)/g\n    },\n    link: edit$1(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n    reflink: edit$1(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n  });\n  /**\n   * GFM Inline Grammar\n   */\n\n  inline.gfm = merge$1({}, inline.normal, {\n    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n  });\n  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n  /**\n   * GFM + Line Breaks Inline Grammar\n   */\n\n  inline.breaks = merge$1({}, inline.gfm, {\n    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit$1(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n  });\n  var rules = {\n    block: block,\n    inline: inline\n  };\n\n  var defaults$2 = defaults.defaults;\n  var block$1 = rules.block,\n      inline$1 = rules.inline;\n  var repeatString$1 = helpers.repeatString;\n  /**\n   * smartypants text replacement\n   */\n\n  function smartypants(text) {\n    return text // em-dashes\n    .replace(/---/g, \"\\u2014\") // en-dashes\n    .replace(/--/g, \"\\u2013\") // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, \"$1\\u2018\") // closing singles & apostrophes\n    .replace(/'/g, \"\\u2019\") // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, \"$1\\u201C\") // closing doubles\n    .replace(/\"/g, \"\\u201D\") // ellipses\n    .replace(/\\.{3}/g, \"\\u2026\");\n  }\n  /**\n   * mangle email addresses\n   */\n\n\n  function mangle(text) {\n    var out = '',\n        i,\n        ch;\n    var l = text.length;\n\n    for (i = 0; i < l; i++) {\n      ch = text.charCodeAt(i);\n\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n  /**\n   * Block Lexer\n   */\n\n\n  var Lexer_1 = /*#__PURE__*/function () {\n    function Lexer(options) {\n      this.tokens = [];\n      this.tokens.links = Object.create(null);\n      this.options = options || defaults$2;\n      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();\n      this.tokenizer = this.options.tokenizer;\n      this.tokenizer.options = this.options;\n      var rules = {\n        block: block$1.normal,\n        inline: inline$1.normal\n      };\n\n      if (this.options.pedantic) {\n        rules.block = block$1.pedantic;\n        rules.inline = inline$1.pedantic;\n      } else if (this.options.gfm) {\n        rules.block = block$1.gfm;\n\n        if (this.options.breaks) {\n          rules.inline = inline$1.breaks;\n        } else {\n          rules.inline = inline$1.gfm;\n        }\n      }\n\n      this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n\n\n    /**\n     * Static Lex Method\n     */\n    Lexer.lex = function lex(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    ;\n\n    Lexer.lexInline = function lexInline(src, options) {\n      var lexer = new Lexer(options);\n      return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    ;\n\n    var _proto = Lexer.prototype;\n\n    _proto.lex = function lex(src) {\n      src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n      this.blockTokens(src, this.tokens, true);\n      this.inline(this.tokens);\n      return this.tokens;\n    }\n    /**\n     * Lexing\n     */\n    ;\n\n    _proto.blockTokens = function blockTokens(src, tokens, top) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (top === void 0) {\n        top = true;\n      }\n\n      if (this.options.pedantic) {\n        src = src.replace(/^ +$/gm, '');\n      }\n\n      var token, i, l, lastToken;\n\n      while (src) {\n        // newline\n        if (token = this.tokenizer.space(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          }\n\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.code(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        } // fences\n\n\n        if (token = this.tokenizer.fences(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // heading\n\n\n        if (token = this.tokenizer.heading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // table no leading pipe (gfm)\n\n\n        if (token = this.tokenizer.nptable(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // hr\n\n\n        if (token = this.tokenizer.hr(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // blockquote\n\n\n        if (token = this.tokenizer.blockquote(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.blockTokens(token.text, [], top);\n          tokens.push(token);\n          continue;\n        } // list\n\n\n        if (token = this.tokenizer.list(src)) {\n          src = src.substring(token.raw.length);\n          l = token.items.length;\n\n          for (i = 0; i < l; i++) {\n            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n          }\n\n          tokens.push(token);\n          continue;\n        } // html\n\n\n        if (token = this.tokenizer.html(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // def\n\n\n        if (top && (token = this.tokenizer.def(src))) {\n          src = src.substring(token.raw.length);\n\n          if (!this.tokens.links[token.tag]) {\n            this.tokens.links[token.tag] = {\n              href: token.href,\n              title: token.title\n            };\n          }\n\n          continue;\n        } // table (gfm)\n\n\n        if (token = this.tokenizer.table(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // lheading\n\n\n        if (token = this.tokenizer.lheading(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // top-level paragraph\n\n\n        if (top && (token = this.tokenizer.paragraph(src))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.text(src, tokens)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type) {\n            tokens.push(token);\n          } else {\n            lastToken = tokens[tokens.length - 1];\n            lastToken.raw += '\\n' + token.raw;\n            lastToken.text += '\\n' + token.text;\n          }\n\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _proto.inline = function inline(tokens) {\n      var i, j, k, l2, row, token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'paragraph':\n          case 'text':\n          case 'heading':\n            {\n              token.tokens = [];\n              this.inlineTokens(token.text, token.tokens);\n              break;\n            }\n\n          case 'table':\n            {\n              token.tokens = {\n                header: [],\n                cells: []\n              }; // header\n\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                token.tokens.header[j] = [];\n                this.inlineTokens(token.header[j], token.tokens.header[j]);\n              } // cells\n\n\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.cells[j];\n                token.tokens.cells[j] = [];\n\n                for (k = 0; k < row.length; k++) {\n                  token.tokens.cells[j][k] = [];\n                  this.inlineTokens(row[k], token.tokens.cells[j][k]);\n                }\n              }\n\n              break;\n            }\n\n          case 'blockquote':\n            {\n              this.inline(token.tokens);\n              break;\n            }\n\n          case 'list':\n            {\n              l2 = token.items.length;\n\n              for (j = 0; j < l2; j++) {\n                this.inline(token.items[j].tokens);\n              }\n\n              break;\n            }\n        }\n      }\n\n      return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    ;\n\n    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {\n      if (tokens === void 0) {\n        tokens = [];\n      }\n\n      if (inLink === void 0) {\n        inLink = false;\n      }\n\n      if (inRawBlock === void 0) {\n        inRawBlock = false;\n      }\n\n      var token; // String with links masked to avoid interference with em and strong\n\n      var maskedSrc = src;\n      var match;\n      var keepPrevChar, prevChar; // Mask out reflinks\n\n      if (this.tokens.links) {\n        var links = Object.keys(this.tokens.links);\n\n        if (links.length > 0) {\n          while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n            if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n              maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString$1('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n            }\n          }\n        }\n      } // Mask out other blocks\n\n\n      while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n        maskedSrc = maskedSrc.slice(0, match.index) + '[' + repeatString$1('a', match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n      }\n\n      while (src) {\n        if (!keepPrevChar) {\n          prevChar = '';\n        }\n\n        keepPrevChar = false; // escape\n\n        if (token = this.tokenizer.escape(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // tag\n\n\n        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n          src = src.substring(token.raw.length);\n          inLink = token.inLink;\n          inRawBlock = token.inRawBlock;\n          tokens.push(token);\n          continue;\n        } // link\n\n\n        if (token = this.tokenizer.link(src)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // reflink, nolink\n\n\n        if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n          src = src.substring(token.raw.length);\n\n          if (token.type === 'link') {\n            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n          }\n\n          tokens.push(token);\n          continue;\n        } // strong\n\n\n        if (token = this.tokenizer.strong(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // em\n\n\n        if (token = this.tokenizer.em(src, maskedSrc, prevChar)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // code\n\n\n        if (token = this.tokenizer.codespan(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // br\n\n\n        if (token = this.tokenizer.br(src)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // del (gfm)\n\n\n        if (token = this.tokenizer.del(src)) {\n          src = src.substring(token.raw.length);\n          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n          tokens.push(token);\n          continue;\n        } // autolink\n\n\n        if (token = this.tokenizer.autolink(src, mangle)) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // url (gfm)\n\n\n        if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n          src = src.substring(token.raw.length);\n          tokens.push(token);\n          continue;\n        } // text\n\n\n        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n          src = src.substring(token.raw.length);\n          prevChar = token.raw.slice(-1);\n          keepPrevChar = true;\n          tokens.push(token);\n          continue;\n        }\n\n        if (src) {\n          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n          if (this.options.silent) {\n            console.error(errMsg);\n            break;\n          } else {\n            throw new Error(errMsg);\n          }\n        }\n      }\n\n      return tokens;\n    };\n\n    _createClass(Lexer, null, [{\n      key: \"rules\",\n      get: function get() {\n        return {\n          block: block$1,\n          inline: inline$1\n        };\n      }\n    }]);\n\n    return Lexer;\n  }();\n\n  var defaults$3 = defaults.defaults;\n  var cleanUrl$1 = helpers.cleanUrl,\n      escape$1 = helpers.escape;\n  /**\n   * Renderer\n   */\n\n  var Renderer_1 = /*#__PURE__*/function () {\n    function Renderer(options) {\n      this.options = options || defaults$3;\n    }\n\n    var _proto = Renderer.prototype;\n\n    _proto.code = function code(_code, infostring, escaped) {\n      var lang = (infostring || '').match(/\\S*/)[0];\n\n      if (this.options.highlight) {\n        var out = this.options.highlight(_code, lang);\n\n        if (out != null && out !== _code) {\n          escaped = true;\n          _code = out;\n        }\n      }\n\n      _code = _code.replace(/\\n$/, '') + '\\n';\n\n      if (!lang) {\n        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n      }\n\n      return '<pre><code class=\"' + this.options.langPrefix + escape$1(lang, true) + '\">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\\n';\n    };\n\n    _proto.blockquote = function blockquote(quote) {\n      return '<blockquote>\\n' + quote + '</blockquote>\\n';\n    };\n\n    _proto.html = function html(_html) {\n      return _html;\n    };\n\n    _proto.heading = function heading(text, level, raw, slugger) {\n      if (this.options.headerIds) {\n        return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n      } // ignore IDs\n\n\n      return '<h' + level + '>' + text + '</h' + level + '>\\n';\n    };\n\n    _proto.hr = function hr() {\n      return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n    };\n\n    _proto.list = function list(body, ordered, start) {\n      var type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n      return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    };\n\n    _proto.listitem = function listitem(text) {\n      return '<li>' + text + '</li>\\n';\n    };\n\n    _proto.checkbox = function checkbox(checked) {\n      return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n    };\n\n    _proto.paragraph = function paragraph(text) {\n      return '<p>' + text + '</p>\\n';\n    };\n\n    _proto.table = function table(header, body) {\n      if (body) body = '<tbody>' + body + '</tbody>';\n      return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n    };\n\n    _proto.tablerow = function tablerow(content) {\n      return '<tr>\\n' + content + '</tr>\\n';\n    };\n\n    _proto.tablecell = function tablecell(content, flags) {\n      var type = flags.header ? 'th' : 'td';\n      var tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n      return tag + content + '</' + type + '>\\n';\n    } // span level renderer\n    ;\n\n    _proto.strong = function strong(text) {\n      return '<strong>' + text + '</strong>';\n    };\n\n    _proto.em = function em(text) {\n      return '<em>' + text + '</em>';\n    };\n\n    _proto.codespan = function codespan(text) {\n      return '<code>' + text + '</code>';\n    };\n\n    _proto.br = function br() {\n      return this.options.xhtml ? '<br/>' : '<br>';\n    };\n\n    _proto.del = function del(text) {\n      return '<del>' + text + '</del>';\n    };\n\n    _proto.link = function link(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<a href=\"' + escape$1(href) + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += '>' + text + '</a>';\n      return out;\n    };\n\n    _proto.image = function image(href, title, text) {\n      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);\n\n      if (href === null) {\n        return text;\n      }\n\n      var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n      if (title) {\n        out += ' title=\"' + title + '\"';\n      }\n\n      out += this.options.xhtml ? '/>' : '>';\n      return out;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    return Renderer;\n  }();\n\n  /**\n   * TextRenderer\n   * returns only the textual part of the token\n   */\n  var TextRenderer_1 = /*#__PURE__*/function () {\n    function TextRenderer() {}\n\n    var _proto = TextRenderer.prototype;\n\n    // no need for block level renderers\n    _proto.strong = function strong(text) {\n      return text;\n    };\n\n    _proto.em = function em(text) {\n      return text;\n    };\n\n    _proto.codespan = function codespan(text) {\n      return text;\n    };\n\n    _proto.del = function del(text) {\n      return text;\n    };\n\n    _proto.html = function html(text) {\n      return text;\n    };\n\n    _proto.text = function text(_text) {\n      return _text;\n    };\n\n    _proto.link = function link(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.image = function image(href, title, text) {\n      return '' + text;\n    };\n\n    _proto.br = function br() {\n      return '';\n    };\n\n    return TextRenderer;\n  }();\n\n  /**\n   * Slugger generates header id\n   */\n  var Slugger_1 = /*#__PURE__*/function () {\n    function Slugger() {\n      this.seen = {};\n    }\n\n    var _proto = Slugger.prototype;\n\n    _proto.serialize = function serialize(value) {\n      return value.toLowerCase().trim() // remove html tags\n      .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n    }\n    /**\n     * Finds the next safe (unique) slug to use\n     */\n    ;\n\n    _proto.getNextSafeSlug = function getNextSafeSlug(originalSlug, isDryRun) {\n      var slug = originalSlug;\n      var occurenceAccumulator = 0;\n\n      if (this.seen.hasOwnProperty(slug)) {\n        occurenceAccumulator = this.seen[originalSlug];\n\n        do {\n          occurenceAccumulator++;\n          slug = originalSlug + '-' + occurenceAccumulator;\n        } while (this.seen.hasOwnProperty(slug));\n      }\n\n      if (!isDryRun) {\n        this.seen[originalSlug] = occurenceAccumulator;\n        this.seen[slug] = 0;\n      }\n\n      return slug;\n    }\n    /**\n     * Convert string to unique id\n     * @param {object} options\n     * @param {boolean} options.dryrun Generates the next unique slug without updating the internal accumulator.\n     */\n    ;\n\n    _proto.slug = function slug(value, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var slug = this.serialize(value);\n      return this.getNextSafeSlug(slug, options.dryrun);\n    };\n\n    return Slugger;\n  }();\n\n  var defaults$4 = defaults.defaults;\n  var unescape$1 = helpers.unescape;\n  /**\n   * Parsing & Compiling\n   */\n\n  var Parser_1 = /*#__PURE__*/function () {\n    function Parser(options) {\n      this.options = options || defaults$4;\n      this.options.renderer = this.options.renderer || new Renderer_1();\n      this.renderer = this.options.renderer;\n      this.renderer.options = this.options;\n      this.textRenderer = new TextRenderer_1();\n      this.slugger = new Slugger_1();\n    }\n    /**\n     * Static Parse Method\n     */\n\n\n    Parser.parse = function parse(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    ;\n\n    Parser.parseInline = function parseInline(tokens, options) {\n      var parser = new Parser(options);\n      return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    ;\n\n    var _proto = Parser.prototype;\n\n    _proto.parse = function parse(tokens, top) {\n      if (top === void 0) {\n        top = true;\n      }\n\n      var out = '',\n          i,\n          j,\n          k,\n          l2,\n          l3,\n          row,\n          cell,\n          header,\n          body,\n          token,\n          ordered,\n          start,\n          loose,\n          itemBody,\n          item,\n          checked,\n          task,\n          checkbox;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'space':\n            {\n              continue;\n            }\n\n          case 'hr':\n            {\n              out += this.renderer.hr();\n              continue;\n            }\n\n          case 'heading':\n            {\n              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n              continue;\n            }\n\n          case 'code':\n            {\n              out += this.renderer.code(token.text, token.lang, token.escaped);\n              continue;\n            }\n\n          case 'table':\n            {\n              header = ''; // header\n\n              cell = '';\n              l2 = token.header.length;\n\n              for (j = 0; j < l2; j++) {\n                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                  header: true,\n                  align: token.align[j]\n                });\n              }\n\n              header += this.renderer.tablerow(cell);\n              body = '';\n              l2 = token.cells.length;\n\n              for (j = 0; j < l2; j++) {\n                row = token.tokens.cells[j];\n                cell = '';\n                l3 = row.length;\n\n                for (k = 0; k < l3; k++) {\n                  cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                    header: false,\n                    align: token.align[k]\n                  });\n                }\n\n                body += this.renderer.tablerow(cell);\n              }\n\n              out += this.renderer.table(header, body);\n              continue;\n            }\n\n          case 'blockquote':\n            {\n              body = this.parse(token.tokens);\n              out += this.renderer.blockquote(body);\n              continue;\n            }\n\n          case 'list':\n            {\n              ordered = token.ordered;\n              start = token.start;\n              loose = token.loose;\n              l2 = token.items.length;\n              body = '';\n\n              for (j = 0; j < l2; j++) {\n                item = token.items[j];\n                checked = item.checked;\n                task = item.task;\n                itemBody = '';\n\n                if (item.task) {\n                  checkbox = this.renderer.checkbox(checked);\n\n                  if (loose) {\n                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {\n                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                      }\n                    } else {\n                      item.tokens.unshift({\n                        type: 'text',\n                        text: checkbox\n                      });\n                    }\n                  } else {\n                    itemBody += checkbox;\n                  }\n                }\n\n                itemBody += this.parse(item.tokens, loose);\n                body += this.renderer.listitem(itemBody, task, checked);\n              }\n\n              out += this.renderer.list(body, ordered, start);\n              continue;\n            }\n\n          case 'html':\n            {\n              // TODO parse inline content if parameter markdown=1\n              out += this.renderer.html(token.text);\n              continue;\n            }\n\n          case 'paragraph':\n            {\n              out += this.renderer.paragraph(this.parseInline(token.tokens));\n              continue;\n            }\n\n          case 'text':\n            {\n              body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n              while (i + 1 < l && tokens[i + 1].type === 'text') {\n                token = tokens[++i];\n                body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n              }\n\n              out += top ? this.renderer.paragraph(body) : body;\n              continue;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    ;\n\n    _proto.parseInline = function parseInline(tokens, renderer) {\n      renderer = renderer || this.renderer;\n      var out = '',\n          i,\n          token;\n      var l = tokens.length;\n\n      for (i = 0; i < l; i++) {\n        token = tokens[i];\n\n        switch (token.type) {\n          case 'escape':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          case 'html':\n            {\n              out += renderer.html(token.text);\n              break;\n            }\n\n          case 'link':\n            {\n              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'image':\n            {\n              out += renderer.image(token.href, token.title, token.text);\n              break;\n            }\n\n          case 'strong':\n            {\n              out += renderer.strong(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'em':\n            {\n              out += renderer.em(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'codespan':\n            {\n              out += renderer.codespan(token.text);\n              break;\n            }\n\n          case 'br':\n            {\n              out += renderer.br();\n              break;\n            }\n\n          case 'del':\n            {\n              out += renderer.del(this.parseInline(token.tokens, renderer));\n              break;\n            }\n\n          case 'text':\n            {\n              out += renderer.text(token.text);\n              break;\n            }\n\n          default:\n            {\n              var errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n              if (this.options.silent) {\n                console.error(errMsg);\n                return;\n              } else {\n                throw new Error(errMsg);\n              }\n            }\n        }\n      }\n\n      return out;\n    };\n\n    return Parser;\n  }();\n\n  var merge$2 = helpers.merge,\n      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,\n      escape$2 = helpers.escape;\n  var getDefaults = defaults.getDefaults,\n      changeDefaults = defaults.changeDefaults,\n      defaults$5 = defaults.defaults;\n  /**\n   * Marked\n   */\n\n  function marked(src, opt, callback) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    if (typeof opt === 'function') {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    if (callback) {\n      var highlight = opt.highlight;\n      var tokens;\n\n      try {\n        tokens = Lexer_1.lex(src, opt);\n      } catch (e) {\n        return callback(e);\n      }\n\n      var done = function done(err) {\n        var out;\n\n        if (!err) {\n          try {\n            out = Parser_1.parse(tokens, opt);\n          } catch (e) {\n            err = e;\n          }\n        }\n\n        opt.highlight = highlight;\n        return err ? callback(err) : callback(null, out);\n      };\n\n      if (!highlight || highlight.length < 3) {\n        return done();\n      }\n\n      delete opt.highlight;\n      if (!tokens.length) return done();\n      var pending = 0;\n      marked.walkTokens(tokens, function (token) {\n        if (token.type === 'code') {\n          pending++;\n          setTimeout(function () {\n            highlight(token.text, token.lang, function (err, code) {\n              if (err) {\n                return done(err);\n              }\n\n              if (code != null && code !== token.text) {\n                token.text = code;\n                token.escaped = true;\n              }\n\n              pending--;\n\n              if (pending === 0) {\n                done();\n              }\n            });\n          }, 0);\n        }\n      });\n\n      if (pending === 0) {\n        done();\n      }\n\n      return;\n    }\n\n    try {\n      var _tokens = Lexer_1.lex(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(_tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parse(_tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  }\n  /**\n   * Options\n   */\n\n\n  marked.options = marked.setOptions = function (opt) {\n    merge$2(marked.defaults, opt);\n    changeDefaults(marked.defaults);\n    return marked;\n  };\n\n  marked.getDefaults = getDefaults;\n  marked.defaults = defaults$5;\n  /**\n   * Use Extension\n   */\n\n  marked.use = function (extension) {\n    var opts = merge$2({}, extension);\n\n    if (extension.renderer) {\n      (function () {\n        var renderer = marked.defaults.renderer || new Renderer_1();\n\n        var _loop = function _loop(prop) {\n          var prevRenderer = renderer[prop];\n\n          renderer[prop] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var ret = extension.renderer[prop].apply(renderer, args);\n\n            if (ret === false) {\n              ret = prevRenderer.apply(renderer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.renderer) {\n          _loop(prop);\n        }\n\n        opts.renderer = renderer;\n      })();\n    }\n\n    if (extension.tokenizer) {\n      (function () {\n        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();\n\n        var _loop2 = function _loop2(prop) {\n          var prevTokenizer = tokenizer[prop];\n\n          tokenizer[prop] = function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            var ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n            if (ret === false) {\n              ret = prevTokenizer.apply(tokenizer, args);\n            }\n\n            return ret;\n          };\n        };\n\n        for (var prop in extension.tokenizer) {\n          _loop2(prop);\n        }\n\n        opts.tokenizer = tokenizer;\n      })();\n    }\n\n    if (extension.walkTokens) {\n      var walkTokens = marked.defaults.walkTokens;\n\n      opts.walkTokens = function (token) {\n        extension.walkTokens(token);\n\n        if (walkTokens) {\n          walkTokens(token);\n        }\n      };\n    }\n\n    marked.setOptions(opts);\n  };\n  /**\n   * Run callback for every token\n   */\n\n\n  marked.walkTokens = function (tokens, callback) {\n    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {\n      var token = _step.value;\n      callback(token);\n\n      switch (token.type) {\n        case 'table':\n          {\n            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {\n              var cell = _step2.value;\n              marked.walkTokens(cell, callback);\n            }\n\n            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {\n              var row = _step3.value;\n\n              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {\n                var _cell = _step4.value;\n                marked.walkTokens(_cell, callback);\n              }\n            }\n\n            break;\n          }\n\n        case 'list':\n          {\n            marked.walkTokens(token.items, callback);\n            break;\n          }\n\n        default:\n          {\n            if (token.tokens) {\n              marked.walkTokens(token.tokens, callback);\n            }\n          }\n      }\n    }\n  };\n  /**\n   * Parse Inline\n   */\n\n\n  marked.parseInline = function (src, opt) {\n    // throw error in case of non string input\n    if (typeof src === 'undefined' || src === null) {\n      throw new Error('marked.parseInline(): input parameter is undefined or null');\n    }\n\n    if (typeof src !== 'string') {\n      throw new Error('marked.parseInline(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n    }\n\n    opt = merge$2({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation$1(opt);\n\n    try {\n      var tokens = Lexer_1.lexInline(src, opt);\n\n      if (opt.walkTokens) {\n        marked.walkTokens(tokens, opt.walkTokens);\n      }\n\n      return Parser_1.parseInline(tokens, opt);\n    } catch (e) {\n      e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n      if (opt.silent) {\n        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';\n      }\n\n      throw e;\n    }\n  };\n  /**\n   * Expose\n   */\n\n\n  marked.Parser = Parser_1;\n  marked.parser = Parser_1.parse;\n  marked.Renderer = Renderer_1;\n  marked.TextRenderer = TextRenderer_1;\n  marked.Lexer = Lexer_1;\n  marked.lexer = Lexer_1.lex;\n  marked.Tokenizer = Tokenizer_1;\n  marked.Slugger = Slugger_1;\n  marked.parse = marked;\n  var marked_1 = marked;\n\n  return marked_1;\n\n})));\n","import {Command, Session} from \"../session\";\n\n\nexport interface CommandHandler {\n    accept_command: string[],\n\n    handle_message(msg: Command): void\n}\n\nexport class SessionCtrlHandler implements CommandHandler {\n    accept_command: string[] = ['close_session', 'set_session_id'];\n\n    constructor(readonly session: Session) {\n    }\n\n    handle_message(msg: Command) {\n        if (msg.command == 'close_session')\n            this.session.close_session();\n        else if (msg.command == 'set_session_id')\n            this.session.webio_session_id = msg.spec;\n    }\n}\n\nexport class CommandDispatcher {\n    command2handler: { [cmd: string]: CommandHandler } = {};\n\n    constructor(...handlers: CommandHandler[]) {\n        for (let h of handlers) {\n            for (let cmd of h.accept_command) {\n                if (cmd in this.command2handler)\n                    throw  new Error(`Conflict command handler: both ${this.command2handler[cmd]} and ${h} accepts '${cmd}' command`);\n                this.command2handler[cmd] = h;\n            }\n        }\n    }\n\n    dispatch_message(msg: Command): boolean {\n        if (msg.command in this.command2handler) {\n            this.command2handler[msg.command].handle_message(msg);\n            return true;\n        }\n        return false\n    }\n}","import {Command} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {b64toBlob} from \"../utils\";\n\nexport class DownloadHandler implements CommandHandler {\n    accept_command: string[] = ['download'];\n\n    constructor() {\n    }\n\n    handle_message(msg: Command) {\n        let blob = b64toBlob(msg.spec.content);\n        saveAs(blob, msg.spec.name, {}, false);\n    }\n}","import {Command, HttpSession} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {config, state} from \"../state\";\n\nexport class EnvSettingHandler implements CommandHandler {\n    accept_command: string[] = ['set_env'];\n\n    constructor() {\n    }\n\n    handle_message(msg: Command) {\n        let spec = msg.spec;\n        if (spec.title !== undefined) {\n            document.title = spec.title;\n        }\n\n        if (spec.auto_scroll_bottom !== undefined)\n            state.AutoScrollBottom = spec.auto_scroll_bottom;\n\n        if (spec.output_animation !== undefined) {\n            config.outputAnimation = spec.output_animation;\n        }\n\n        if (spec.http_pull_interval !== undefined) {\n            if (state.CurrentSession instanceof HttpSession)\n                state.CurrentSession.change_pull_interval(spec.http_pull_interval);\n        }\n\n        if (spec.input_panel_min_height !== undefined) {\n            state.InputPanelMinHeight = spec.input_panel_min_height;\n        }\n\n        if (spec.input_panel_init_height !== undefined) {\n            state.InputPanelInitHeight = spec.input_panel_init_height;\n        }\n\n        if (spec.input_panel_fixed !== undefined) {\n            state.FixedInputPanel = spec.input_panel_fixed;\n        }\n\n        if (spec.input_auto_focus !== undefined) {\n            state.AutoFocusOnInput = spec.input_auto_focus;\n        }\n\n        if (spec.output_max_width !== undefined) {\n            $('#output-container').css('max-width', spec.output_max_width);\n        }\n    }\n}","import {Command, Session} from \"../session\";\nimport {error_alert, LRUMap, make_set, serialize_json} from \"../utils\";\nimport {InputItem} from \"../models/input/base\"\nimport {state} from '../state'\nimport {all_input_items} from \"../models/input\"\nimport {CommandHandler} from \"./base\"\nimport {close_input, show_input} from \"../ui\";\nimport {t} from \"../i18n\";\n\n/*\n* 整个输入区域的控制类\n* 管理当前活跃和非活跃的表单\n* */\nexport class InputHandler implements CommandHandler {\n    accept_command: string[] = ['input', 'input_group', 'update_input', 'destroy_form'];\n\n    session: Session;\n    private form_ctrls: LRUMap; // task_id -> stack of FormGroupController\n    private readonly container_elem: JQuery;\n\n    constructor(session: Session, container_elem: JQuery) {\n        this.session = session;\n        this.container_elem = container_elem;\n        this.form_ctrls = new LRUMap(); // task_id -> stack of FormGroupController\n    }\n\n    private _after_show_form() {\n        // 解决表单显示后动态添加内容，表单宽高不变的问题\n        setTimeout(() => {\n            let curr_card = $('#input-cards > .card')[0];\n            curr_card.style.height = \"unset\";\n            curr_card.style.width = \"unset\";\n        }, 50);\n\n        show_input();\n\n        let old_ctrls = this.form_ctrls.get_top();\n        if (old_ctrls)\n            old_ctrls[old_ctrls.length - 1].after_show();\n\n        if (state.AutoFocusOnInput)\n            $('[auto_focus=\"true\"]').focus();\n    };\n\n    // hide old_ctrls显示的表单，激活 task_id 对应的表单\n    // 需要保证 task_id 对应有表单\n    private _activate_form(task_id: string, old_ctrl: InputItem) {\n        let ctrls = this.form_ctrls.get_value(task_id);\n        let ctrl = ctrls[ctrls.length - 1];\n        if (ctrl === old_ctrl || old_ctrl === undefined) {\n            return ctrl.element.show(state.ShowDuration, () => {\n                this._after_show_form()\n            });\n        }\n        this.form_ctrls.move_to_top(task_id);\n        old_ctrl.element.hide(100, () => {\n            // ctrl.element.show(100);\n            // 需要在回调中重新获取当前前置表单元素，因为100ms内可能有变化\n            let t = this.form_ctrls.get_top();\n            if (t) t[t.length - 1].element.show(state.ShowDuration, () => {\n                this._after_show_form()\n            });\n        });\n    };\n\n\n    /*\n    * 每次函数调用返回后，this.form_ctrls.get_top()的栈顶对应的表单为当前活跃表单\n    * */\n    handle_message(msg: Command) {\n        let old_ctrls = this.form_ctrls.get_top();\n        let old_ctrl = old_ctrls && old_ctrls[old_ctrls.length - 1];\n        let target_ctrls = this.form_ctrls.get_value(msg.task_id);\n        if (target_ctrls === undefined) {\n            this.form_ctrls.push(msg.task_id, []);\n            target_ctrls = this.form_ctrls.get_value(msg.task_id);\n        }\n\n        // 创建表单\n        if (msg.command in make_set(['input', 'input_group'])) {\n            let ctrl = new FormController(this.session, msg.task_id, msg.spec);\n            target_ctrls.push(ctrl);\n            this.container_elem.append(ctrl.create_element());\n            ctrl.after_add_to_dom();\n            this._activate_form(msg.task_id, old_ctrl);\n        } else if (msg.command in make_set(['update_input'])) {\n            // 更新表单\n            if (target_ctrls.length === 0) {\n                return console.error('No form to current message. task_id:%s', msg.task_id);\n            }\n            target_ctrls[target_ctrls.length - 1].dispatch_ctrl_message(msg.spec);\n            // 表单前置 removed\n            // this._activate_form(msg.task_id, old_ctrl);\n        } else if (msg.command === 'destroy_form') {\n            if (target_ctrls.length === 0) {\n                return console.error('No form to current message. task_id:%s', msg.task_id);\n            }\n            let deleted = target_ctrls.pop() as FormController;\n            if (target_ctrls.length === 0)\n                this.form_ctrls.remove(msg.task_id);\n\n            // 销毁的是当前显示的form\n            if (old_ctrls === target_ctrls) {\n                deleted.element.hide(100, () => {\n                    deleted.element.remove();\n                    close_input();\n\n                    let t = this.form_ctrls.get_top();\n                    if (t) t[t.length - 1].element.show(state.ShowDuration, () => {\n                        this._after_show_form()\n                    });\n                });\n            } else {\n                deleted.element.remove();\n                close_input();\n            }\n        }\n    }\n}\n\n\n/*\n* 表单控制器\n* */\nclass FormController {\n    static input_items: { [input_type: string]: typeof InputItem } = {};\n\n    session: Session;\n\n    element: JQuery = null;\n\n    private task_id: string;\n    private spec: any;\n    // name -> input_controller\n    private name2input: { [i: string]: InputItem } = {};\n    private show_count: number = 0;\n\n    public static register_inputitem(cls: typeof InputItem) {\n        for (let type of cls.accept_input_types) {\n            if (type in this.input_items)\n                throw new Error(`duplicated accept_input_types:[${type}] in ${cls} and ${this.input_items[type]}`);\n            this.input_items[type] = cls;\n        }\n    }\n\n    constructor(session: Session, task_id: string, spec: any) {\n        this.session = session;\n        this.task_id = task_id;\n        this.spec = spec;\n\n        // this.create_element();\n    }\n\n\n    create_element(): JQuery {\n        let tpl = `\n            <div class=\"card\" style=\"display: none\">\n                <h5 class=\"card-header\">{{label}}</h5>\n                <div class=\"card-body\">\n                    <form>\n                        <div class=\"input-container\"></div>\n                        <div class=\"ws-form-submit-btns\">\n                            <button type=\"submit\" class=\"btn btn-primary\">${t(\"submit\")}</button>\n                            <button type=\"reset\" class=\"btn btn-warning\">${t(\"reset\")}</button>\n                            {{#cancelable}}<button type=\"button\" class=\"pywebio_cancel_btn btn btn-danger\">${t(\"cancel\")}</button>{{/cancelable}}\n                        </div>\n                    </form>\n                </div>\n            </div>`;\n        let that = this;\n\n        const html = Mustache.render(tpl, {label: this.spec.label, cancelable: this.spec.cancelable});\n        let element = $(html);\n\n        element.find('.pywebio_cancel_btn').on('click', function (e) {\n            element.find('button').prop(\"disabled\", true);\n            that.session.send_message({\n                event: \"from_cancel\",\n                task_id: that.task_id,\n                data: null\n            });\n        });\n\n        // 隐藏默认的\"提交\"/\"重置\"按钮\n        if (this.spec.inputs.length && this.spec.inputs[this.spec.inputs.length - 1].type === 'actions') {\n            for (let btn of this.spec.inputs[this.spec.inputs.length - 1].buttons) {\n                if (btn.type === 'submit') {\n                    element.find('.ws-form-submit-btns').hide();\n                    break;\n                }\n            }\n        }\n\n        // 输入控件创建\n        let body = element.find('.input-container');\n        for (let idx in this.spec.inputs) {\n            let input_spec = this.spec.inputs[idx];\n            if (!(input_spec.type in FormController.input_items))\n                throw new Error(`Unknown input type '${input_spec.type}'`);\n            let item_class = FormController.input_items[input_spec.type];\n            let item = new item_class(input_spec, this.task_id, (event, input_item) => {\n                this.session.send_message({\n                    event: \"input_event\",\n                    task_id: this.task_id,\n                    data: {\n                        event_name: event,\n                        name: input_spec.name,\n                        value: input_item.get_value()\n                    }\n                });\n            });\n            this.name2input[input_spec.name] = item;\n\n            body.append(item.create_element());\n        }\n\n        // submit event\n        element.on('submit', 'form', function (e) {\n            e.preventDefault(); // avoid to execute the actual submit of the form.\n\n            element.find('button').prop(\"disabled\", true);\n\n            for (let name in that.name2input){\n                if (!that.name2input[name].check_valid()){\n                    element.find('button').prop(\"disabled\", false);\n                    return error_alert(t(\"error_in_input\"));\n                }\n            }\n\n\n            let data_keys: string[] = [];\n            let data_values: any[] = [];\n            $.each(that.name2input, (name, ctrl) => {\n                data_keys.push(name as string);\n                data_values.push(ctrl.get_value());\n            });\n\n            let on_process = (loaded: number, total: number) => {\n            };\n            // show process bar when there is a file input field\n            for (let item of that.spec.inputs) {\n                if (item.type == 'file') {\n                    on_process = that.make_progress();\n                    break;\n                }\n            }\n            Promise.all(data_values).then((values) => {\n                let input_data: { [i: string]: any } = {};\n                let files: Blob[] = [];\n                for (let idx in data_keys) {\n                    input_data[data_keys[idx]] = values[idx];\n                    if (that.spec.inputs[idx].type == 'file') {\n                        input_data[data_keys[idx]] = [];\n                        files.push(...values[idx]);\n                    }\n                }\n                let msg = {\n                    event: \"from_submit\",\n                    task_id: that.task_id,\n                    data: input_data\n                };\n                if (files.length) {\n                    that.session.send_buffer(new Blob([serialize_json(msg), ...files], {type: 'application/octet-stream'}), on_process);\n                } else {\n                    that.session.send_message(msg, on_process);\n                }\n            });\n\n        });\n\n        this.element = element;\n        return element;\n    };\n\n    // 显示提交进度条，返回进度更新函数\n    make_progress() {\n        let html = `<div class=\"progress\" style=\"margin-top: 4px;\">\n                        <div class=\"progress-bar bg-info progress-bar-striped progress-bar-animated\" role=\"progressbar\"\n                             style=\"width: 0%;\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\">0%\n                        </div>\n                    </div>`;\n        let elem = $(html);\n        this.element.find('.card-body').append(elem);\n\n        let bar = elem.find('.progress-bar');\n        return function (loaded: number, total: number) {\n            let progress = \"\" + (100.0 * loaded / total).toFixed(1);\n            bar[0].style.width = progress + \"%\";\n            bar.attr(\"aria-valuenow\", progress);\n            bar.text(progress + \"%\");\n        }\n    };\n\n    dispatch_ctrl_message(spec: any) {\n        // 恢复原本可点击的按钮\n        this.element.find('button:not([data-pywebio-disabled])').prop(\"disabled\", false);\n        // 移除上传进度条\n        this.element.find('.progress').remove();\n\n        if (!(spec.target_name in this.name2input)) {\n            return console.error('Can\\'t find input[name=%s] element in curr form!', spec.target_name);\n        }\n\n        this.name2input[spec.target_name].update_input(spec);\n    };\n\n    // 在表单加入DOM树后，触发输入项的on_add_to_dom回调\n    after_add_to_dom() {\n        for (let name in this.name2input) {\n            this.name2input[name].after_add_to_dom();\n        }\n    }\n\n    // 在表单被显示后，触发输入项的after_show回调\n    after_show() {\n        for (let name in this.name2input) {\n            this.name2input[name].after_show(this.show_count === 0);\n        }\n        this.show_count += 1;\n    }\n}\n\nfor (let item of all_input_items)\n    FormController.register_inputitem(item);","import {Command, Session} from \"../session\";\nimport {config, state} from '../state'\nimport {body_scroll_to} from \"../utils\";\n\nimport {getWidgetElement} from \"../models/output\"\nimport {CommandHandler} from \"./base\";\n\nconst DISPLAY_NONE_TAGS = ['script', 'style'];\n\nlet after_show_callbacks: (() => void) [] = [];\n\n// register a callback to execute after the current output widget showing\nexport function AfterCurrentOutputWidgetShow(callback: () => void){\n    after_show_callbacks.push(callback);\n}\n\nexport function trigger_output_widget_show_event() {\n    for (let cb of after_show_callbacks) {\n        try {\n            cb.call(this);\n        } catch (e) {\n            console.error('Error in callback of pin widget show event.');\n        }\n    }\n    after_show_callbacks = [];\n}\n\nexport class OutputHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['output', 'output_ctl'];\n\n    private readonly container_parent: JQuery;\n    private readonly container_elem: JQuery;\n\n    constructor(session: Session, container_elem: JQuery) {\n        this.session = session;\n        this.container_elem = container_elem;\n        this.container_parent = this.container_elem.parent();\n    }\n\n    scroll_bottom() {\n        body_scroll_to($('.pywebio'), 'bottom', null, 15);\n    };\n\n    is_elem_visible(elem: JQuery) {\n        try {\n            return DISPLAY_NONE_TAGS.indexOf(elem[0].tagName.toLowerCase()) == -1;\n        } catch (e) {\n        }\n        return false;\n    }\n\n    handle_message(msg: Command) {\n        let output_to_root = false;\n        if (msg.command === 'output') {\n            let elem;\n            try {\n                elem = getWidgetElement(msg.spec);\n            } catch (e) {\n                return console.error(`Handle command error: \"${e}\"\\nCommand:\\n${JSON.stringify(msg)}`);\n            }\n\n            let container_elem = $(msg.spec.scope);\n\n            if (config.outputAnimation && this.is_elem_visible(elem) && container_elem.length == 1) elem.hide();\n\n            if (container_elem.length === 0)\n                return console.error(`Scope '${msg.spec.scope}' not found`);\n\n            if (!msg.spec.scope || msg.spec.scope === '#pywebio-scope-ROOT') output_to_root = true;\n\n            if (msg.spec.position === 0)\n                container_elem.prepend(elem);\n            else if (msg.spec.position === -1)\n                container_elem.append(elem);\n            else {\n                for (let con of container_elem) {\n                    let pos = $(con.children).eq(msg.spec.position);\n                    if (msg.spec.position >= 0)\n                        elem.insertBefore(pos);\n                    else\n                        elem.insertAfter(pos);\n                }\n            }\n\n            if (this.is_elem_visible(elem) && container_elem.length == 1) {  // 输出内容为可见标签且输出目的scope唯一\n                if (config.outputAnimation)\n                    elem.fadeIn({\n                        complete: () => {\n                            // 当设置了AutoScrollBottom、并且当前输出输出到页面末尾时，滚动到底部\n                            if (state.AutoScrollBottom && output_to_root)\n                                this.scroll_bottom();\n                        }\n                    });\n                else if (state.AutoScrollBottom && output_to_root)\n                    this.scroll_bottom();\n            }\n            trigger_output_widget_show_event();\n        } else if (msg.command === 'output_ctl') {\n            this.handle_output_ctl(msg);\n        }\n    };\n\n    handle_output_ctl(msg: Command) {\n        if (msg.spec.set_scope !== undefined) {\n            let spec = msg.spec as {\n                set_scope: string, // scope名\n                container: string, // 此scope的父scope\n                position: number, // 在父scope中创建此scope的位置 0 -> 在父scope的顶部创建, -1 -> 在父scope的尾部创建\n                if_exist: string // 已经存在 ``name`` scope 时如何操作:  `'remove'` 表示先移除旧scope再创建新scope, `'clear'` 表示将旧scope的内容清除，不创建新scope，null/不指定时表示立即返回不进行任何操作\n            };\n\n            let container_elem = $(`${spec.container}`);\n            if (container_elem.length === 0)\n                return console.error(`Scope '${msg.spec.scope}' not found`);\n\n            let old = $(`#${spec.set_scope}`);\n            if (old.length) {\n                if (spec.if_exist == 'remove')\n                    old.remove();\n                else if (spec.if_exist == 'clear') {\n                    old.empty();\n                    return;\n                } else {\n                    return;\n                }\n            }\n\n            let html = `<div id=\"${spec.set_scope}\"></div>`;\n            if (spec.position === 0)\n                container_elem.prepend(html);\n            else if (spec.position === -1)\n                container_elem.append(html);\n            else {\n                if (spec.position >= 0)\n                    $(`${spec.container} > *`).eq(spec.position).insertBefore(html);\n                else\n                    $(`${spec.container} > *`).eq(spec.position).insertAfter(html);\n            }\n        }\n        if (msg.spec.clear !== undefined) {\n            $(msg.spec.clear).empty();\n        }\n        if (msg.spec.clear_before !== undefined)\n            $(`${msg.spec.clear_before}`).prevAll().remove();\n        if (msg.spec.clear_after !== undefined)\n            $(`${msg.spec.clear_after} ~ *`).remove();\n        if (msg.spec.scroll_to !== undefined) {\n            let target = $(`${msg.spec.scroll_to}`);\n            if (!target.length) {\n                console.error(`Scope ${msg.spec.scroll_to} not found`);\n            } else {\n                body_scroll_to(target, msg.spec.position);\n            }\n        }\n        if (msg.spec.clear_range !== undefined) {\n            if ($(`${msg.spec.clear_range[0]}`).length &&\n                $(`${msg.spec.clear_range[1]}`).length) {\n                let removed: HTMLElement[] = [];\n                let valid = false;\n                $(`${msg.spec.clear_range[0]} ~ *`).each(function () {\n                    if (this.id === msg.spec.clear_range[1]) {\n                        valid = true;\n                        return false;\n                    }\n                    removed.push(this);\n                    // $(this).remove();\n                });\n                if (valid)\n                    $(removed).remove();\n                else\n                    console.warn(`clear_range not valid: can't find ${msg.spec.clear_range[1]} after ${msg.spec.clear_range[0]}`);\n            }\n        }\n        if (msg.spec.remove !== undefined)\n            $(`${msg.spec.remove}`).remove();\n    };\n\n}\n","import {Command, Session} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {GetPinValue, PinUpdate, WaitChange} from \"../models/pin\";\nimport {state} from \"../state\";\n\n\nexport class PinHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['pin_value', 'pin_update', 'pin_wait'];\n\n    constructor(session: Session) {\n        this.session = session;\n    }\n\n    handle_message(msg: Command) {\n        if (msg.command === 'pin_value') {\n            let val = GetPinValue(msg.spec.name)\n            state.CurrentSession.send_message({event: \"js_yield\", task_id: msg.task_id, data: val});\n        } else if (msg.command === 'pin_update') {\n            PinUpdate(msg.spec.name, msg.spec.attributes);\n        } else if (msg.command === 'pin_wait') {\n            let p = WaitChange(msg.spec.names, msg.spec.timeout);\n            Promise.resolve(p).then(function (value) {\n                state.CurrentSession.send_message({event: \"js_yield\", task_id: msg.task_id, data: value});\n            }).catch((error) => {\n                console.error('error in `pin_wait`: %s', error);\n                state.CurrentSession.send_message({event: \"js_yield\", task_id: msg.task_id, data: null});\n            });\n        }\n\n    }\n}","import {Command, Session} from \"../session\";\n\nimport {render_tpl} from \"../models/output\"\nimport {CommandHandler} from \"./base\";\nimport {trigger_output_widget_show_event} from \"./output\";\n\n\nexport class PopupHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['popup', 'close_popup'];\n\n    private body = $('body');\n\n    constructor(session: Session) {\n        this.session = session;\n    }\n\n    static current_elem: JQuery<JQuery.Node> = null;  // 当前正在处于显示中的弹窗元素，表示页面的期望状态\n\n    handle_message(msg: Command) {\n        if (PopupHandler.current_elem) {\n            // @ts-ignore\n            PopupHandler.current_elem.modal('hide');\n            PopupHandler.current_elem = null;\n        }\n\n        if (msg.command == 'popup') {\n            // 显示弹窗前，先关闭其他弹窗\n            // @ts-ignore\n            $('.modal').modal('hide');\n\n            let elem = PopupHandler.get_element(msg.spec);\n            this.body.append(elem);\n            trigger_output_widget_show_event();\n\n            // 弹窗关闭后就立即销毁\n            elem.on('hidden.bs.modal', function (e) {\n                elem.remove();\n            });\n\n            elem.on('shown.bs.modal', function (e) {\n                // 弹窗显示后，有新弹窗出现或当前弹窗被关闭，则立即关闭当前弹窗\n                if (elem != PopupHandler.current_elem || !PopupHandler.current_elem) {\n                    // @ts-ignore\n                    elem.modal('hide');\n                }\n            });\n\n            // @ts-ignore\n            elem.modal('show');\n            PopupHandler.current_elem = elem;\n        } else if (msg.command == 'close_popup') {\n            // @ts-ignore\n            $('.modal').modal('hide');\n            PopupHandler.current_elem = null;\n        }\n    }\n\n    static get_element(spec: { title: string, content: any[], closable: boolean, implicit_close: boolean, size: string }) {\n        // https://v4.bootcss.com/docs/components/modal/#options\n        const tpl = `<div class=\"modal fade\" {{^implicit_close}}data-backdrop=\"static\"{{/implicit_close}} aria-labelledby=\"model-id-{{ dom_id }}\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n          <div class=\"modal-dialog modal-dialog-scrollable {{#large}}modal-lg{{/large}} {{#small}}modal-sm{{/small}}\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"model-id-{{ mid }}\">{{ title }}</h5>\n                {{#closable}}\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n                {{/closable}}\n              </div>\n              <div class=\"modal-body markdown-body\" id=\"{{ dom_id }}\">\n                {{#content}}\n                    {{& pywebio_output_parse}}\n                {{/content}}\n              </div>\n              <!--  \n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                <button type=\"button\" class=\"btn btn-primary\">Submit</button>\n              </div> \n              -->\n            </div>\n          </div>\n        </div>`;\n\n        if (!spec.closable)\n            spec.implicit_close = false;\n\n        return render_tpl(tpl, {\n            ...spec,  // 字段： content, title, size, implicit_close, closable, dom_id\n            large: spec.size == 'large',\n            small: spec.size == 'small',\n        });\n    }\n\n}","import {Command, Session} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {state} from \"../state\";\n\n\nexport class ScriptHandler implements CommandHandler {\n    session: Session;\n\n    accept_command = ['run_script'];\n\n    constructor(session: Session) {\n        this.session = session;\n    }\n\n    handle_message(msg: Command) {\n        let script = msg.spec.code as string;\n        let args = msg.spec.args as { [i: string]: any };\n\n        let arg_names: string[] = [];\n        let arg_vals: any[] = [];\n\n        for (let key in args) {\n            arg_names.push(key);\n            arg_vals.push(args[key]);\n        }\n\n        let res = null;\n        script = `return eval(${JSON.stringify(script)})`;  // lgtm [js/bad-code-sanitization]\n        try {\n            const script_func = new Function(...arg_names, script);\n            res = script_func(...arg_vals);\n        } catch (e) {\n            console.log('Exception occurred in user code of `run_script` command: \\n%s', e);\n        }\n        if (msg.spec.eval) {\n            // credit: https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise\n            Promise.resolve(res).then(function (value) {\n                state.CurrentSession.send_message({\n                    event: \"js_yield\",\n                    task_id: msg.task_id,\n                    data: value === undefined ? null : value\n                });\n            }).catch((error) => {\n                console.log('Exception occurred in user code of `run_script` command: \\n%s', error);\n                state.CurrentSession.send_message({event: \"js_yield\", task_id: msg.task_id, data: null});\n            });\n        }\n    }\n}","import {Command} from \"../session\";\nimport {CommandHandler} from \"./base\";\nimport {state} from \"../state\";\n\nexport class ToastHandler implements CommandHandler {\n    accept_command: string[] = ['toast'];\n\n    constructor() {\n    }\n\n    handle_message(msg: Command) {\n        let spec = msg.spec;\n        let toast = Toastify({\n            text: Mustache.escape(spec.content),\n            duration: spec.duration === 0 ? -1 : spec.duration,  // -1 for permanent toast\n            close: spec.duration === 0,//To show the close icon or not\n            gravity: \"top\", // `top` or `bottom`\n            position: spec.position, // `left`, `center` or `right`\n            backgroundColor: spec.color,\n            stopOnFocus: true, // Prevents dismissing of toast on hover\n            onClick: function () {\n                if (!spec.callback_id)\n                    return;\n\n                if (state.CurrentSession === null)\n                    return console.error(\"Error: WebIOController is not instantiated\");\n                state.CurrentSession.send_message({\n                    event: \"callback\",\n                    task_id: spec.callback_id,\n                    data: null\n                });\n                toast.hideToast();\n            }\n        });\n        toast.showToast();\n    }\n}","// @ts-ignore\nconst userLangCode: string = (navigator.language || navigator.userLanguage || 'en').toLowerCase();\n\nconst userLang: string = userLangCode.split('-')[0];\n\n\nconst translations: { [lang: string]: { [msgid: string]: string } } = {\n    \"en\": {\n        \"disconnected_with_server\": \"Disconnected from the server, please refresh the page\",\n        \"connect_fail\": \"Failed to connect to server!\",\n        \"error_in_input\": \"There is an error with the input, please fix the error first\",\n        \"file_size_exceed\": 'File \"%1\" size exceeds limit: the size of a single file must not exceed %2',\n        \"file_total_size_exceed\": \"The total file size exceeds the limit: the total file size must not exceed %1\",\n        \"submit\": \"Submit\",\n        \"reset\": \"Reset\",\n        \"cancel\": \"Cancel\",\n        \"duplicated_pin_name\": \"This pin widget has expired (due to the output of a new pin widget with the same name).\",\n        \"browse_file\": \"Browse\",\n        \"duplicated_scope_name\": \"Error: The name of this scope is duplicated with the previous one!\",\n    },\n    \"zh\": {\n        \"disconnected_with_server\": \"与服务器连接已断开，请刷新页面重新操作\",\n        \"connect_fail\": \"连接服务器失败!\",\n        \"error_in_input\": \"输入项存在错误，请消除错误后再提交\",\n        \"file_size_exceed\": '文件\"%1\"大小超过限制: 单个文件大小不超过%2',\n        \"file_total_size_exceed\": \"文件总大小超过限制: 文件总大小不超过%1\",\n        \"submit\": \"提交\",\n        \"reset\": \"重置\",\n        \"cancel\": \"取消\",\n        \"duplicated_pin_name\": \"该 Pin widget 已失效（由于输出了新的同名 pin widget）\",\n        \"browse_file\": \"浏览文件\",\n        \"duplicated_scope_name\": \"错误: 此scope与已有scope重复!\",\n    },\n    \"ru\": {\n        \"disconnected_with_server\": \"Соединение с сервером потеряно, пожалуйста перезагрузите страницу\",\n        \"connect_fail\": \"Ошибка подключения к серверу!\",\n        \"error_in_input\": \"Пожалуйста, сначала исправьте ошибку\",\n        \"file_size_exceed\": 'Файл \"%1\" весит слишком много: максимально допустимый размер файла - %2',\n        \"file_total_size_exceed\": \"Общий размер файлов превышен: максимально допустимый объем - %1\",\n        \"submit\": \"Отправить\",\n        \"reset\": \"Сброс\",\n        \"cancel\": \"Отмена\",\n        \"duplicated_pin_name\": \"Этот закреп виджет устарел (виджет с таким же именем был выведен).\",\n        \"browse_file\": \"Обзор\",\n    }\n};\n\n\n// sprintf equivalent, takes a string and some arguments to make a computed string\n// eg: strfmt(\"%1 dogs are in %2\", 7, \"the kitchen\"); => \"7 dogs are in the kitchen\"\n// eg: strfmt(\"I like %1, bananas and %1\", \"apples\"); => \"I like apples, bananas and apples\"\nfunction strfmt(fmt: string) {\n    let args = arguments;\n\n    return fmt\n    // put space after double % to prevent placeholder replacement of such matches\n        .replace(/%%/g, '%% ')\n        // replace placeholders\n        .replace(/%(\\d+)/g, function (str, p1) {\n            return args[p1];\n        })\n        // replace double % and space with single %\n        .replace(/%% /g, '%')\n}\n\nexport function t(msgid: string, ...args:string[]): string {\n    let fmt = null;\n    for (let lang of [userLangCode, userLang, 'en']) {\n        if (translations[lang] && translations[lang][msgid]){\n            fmt = translations[lang][msgid];\n            break;\n        }\n    }\n    if (fmt === null)\n        throw Error(`No translation for \"${msgid}\" in \"${userLangCode}\"`);\n\n    return strfmt.apply(null, [fmt, ...args]);\n}","import {config as appConfig, state} from \"./state\";\nimport {Command, HttpSession, is_http_backend, Session, WebSocketSession} from \"./session\";\nimport {InputHandler} from \"./handlers/input\"\nimport {OutputHandler} from \"./handlers/output\"\nimport {CommandDispatcher, SessionCtrlHandler} from \"./handlers/base\"\nimport {PopupHandler} from \"./handlers/popup\";\nimport {openApp} from \"./utils\";\nimport {ScriptHandler} from \"./handlers/script\";\nimport {DownloadHandler} from \"./handlers/download\";\nimport {ToastHandler} from \"./handlers/toast\";\nimport {EnvSettingHandler} from \"./handlers/env\";\nimport {PinHandler} from \"./handlers/pin\";\n\n// 获取后端API的绝对地址\nfunction backend_absaddr(addr: string) {\n    return new URL(addr, window.location.href).href;\n}\n\n// 初始化Handler和Session\nfunction set_up_session(webio_session: Session, output_container_elem: JQuery, input_container_elem: JQuery) {\n    state.CurrentSession = webio_session;\n    $('#pywebio-loading').show();\n    webio_session.on_session_create(function () {\n        $('#pywebio-loading').hide();\n        $('#favicon32').attr('href', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAwklEQVQ4T63TvU5CQRCG4WcwMfEuqOgNtQ2Nd4CxV2LHtVhJ0N7AHdjQUBtrrLwLA4ks2Rx+/Qucw3Y78807M7sz4ft5dq6mI7RQX7o/JCNzfdfetkNifRk6k9wLN9jYdxMkyZPQ1faZXYUwB/OCix8V/W4Y4zJDCsBAX7jdM7iQJY+udELu+cTrP2X/xU2+NMPAg3B3UPaVOOmFoQkapQC8Z8AUpyUBs6MAKrZQ+RErf2PlQTrKKK8gpZdpewgOXOcFTTxEjYwMoIkAAAAASUVORK5CYII=');\n        $('#favicon16').attr('href', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABmUlEQVRYR82XK0wDQRCGv21TUUUJGBwGDBggGCSGBIcAWnBAgsNAgkKhSMDgCA8HtEXgSDBIDC9DDRgcpoSiKo52yea49DiutMttsz27M/98N7s7OyNo9tujgxSTwDiCIaAXSH27l4AXJA/AFSUuWOajGWnR0ChLP3HWkWSAZEN716CM4JQKW6R5+sunPkCeJJJNBCtAosnAQTMHyS6CDWYoh2mEAxzTR4JzYOCfgYNuBRymmOc5uPAbIMswMS6BbkPBPZkiVSZIc+/X/Qng/vl1C4LXIBzG/JmoAag9hxuDaa+XwAIw6p2JGkCObQSrhtMeLifZYZY1tegCqKsW4zHCadfldqgyqK6oC3DGIZIFXZVI9oIjplkUqArXyatGkYkU1+dc5p0eQY4MghNTqlo6kjkFsI9gScvRlLHkQJDnFhgxpampc6cAikCXpqMp8zcF8AnETSlq6lTaAsD6Flg+hNavofVCZL0UW3+M2uI5VhBWGxIFYL0lUxBWm1KviFttyz0Iq4OJB2F1NPO/qdaG0+DD3qLx/AuMVJFhmC8dSgAAAABJRU5ErkJggg==');\n    });\n    webio_session.on_session_close(function () {\n        $('#favicon32').attr('href', 'data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAByElEQVRYR82XLUzDUBDH/9emYoouYHAYMGCAYJAYEhxiW2EOSOYwkKBQKBIwuIUPN2g7gSPBIDF8GWbA4DAjG2qitEfesi6lbGxlXd5q393/fr333t07QpdfPp8f0nV9CcACEU0DGAOgN9yrAN6Y+QnATbVavcrlcp/dSFMnI9M0J1RV3WHmFQCJTvaN9RoRXbiuu28YxstfPm0BbNtOMPMeEW0C0LoMHDZzmPmIiHbT6XStlUZLgEKhMK5p2iWAyX8GDruVHMdZzmazr+GFXwCmac4oinINYCSm4L5M2fO8RcMwHoO6PwAaf37bh+BNCMdx5oOZaAKIPQdwF2Pa2yWwBGDOPxNNAMuyDohoK+a0t5Rj5sNMJrMtFusA4qopivLcw2mPyu14njclrmgdoFgsnjLzWlSVXuyJ6CyVSq2TqHDJZPI9QpHpJW7Qt1apVEbJsqwVIjqPSzWKDjOvCoBjItqI4hiXLTOfkG3b9wBm4xKNqPMgAMoAhiM6xmX+IQC+AKhxKUbUcQcCQPoWyD2E0q+h9EIkvRRLb0YD0Y4FhNQHiQCQ/iQTEFIfpX4Nl/os9yGkDiY+hNTRLNhSpQ2n4b7er/H8G7N6BRSbHvW5AAAAAElFTkSuQmCC');\n        $('#favicon16').attr('href', 'data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0ElEQVQ4T62TPQrCQBCF30tA8BZW9mJtY+MNEtKr2HkWK0Xtw+4NbGysxVorbyEKyZMNRiSgmJ/tZufNNzO7M0ThxHHc8zxvSnIIoPNyXyXt0zRdR1F0+gxhblhr25IWJMcA3vcFviRtSc6DILg5XyZ0wQB2AAbFir7YBwAjB8kAxpg1ycmfwZlM0iYMwyldz77vH3+U/Y2rJEn6NMYsSc7KZM+1kla01p4BdKsAAFwc4A6gVRHwaARQr4Xaj1j7G2sPUiOjnEMqL9PnDJRd5ycpJXsd2f2NIAAAAABJRU5ErkJggg==');\n    });\n\n    let output_ctrl = new OutputHandler(webio_session, output_container_elem);\n    let input_ctrl = new InputHandler(webio_session, input_container_elem);\n    let popup_ctrl = new PopupHandler(webio_session);\n    let session_ctrl = new SessionCtrlHandler(webio_session);\n    let script_ctrl = new ScriptHandler(webio_session);\n    let pin_ctrl = new PinHandler(webio_session);\n    let download_ctrl = new DownloadHandler();\n    let toast_ctrl = new ToastHandler();\n    let env_ctrl = new EnvSettingHandler();\n\n    let dispatcher = new CommandDispatcher(output_ctrl, input_ctrl, popup_ctrl, session_ctrl,\n        script_ctrl, download_ctrl, toast_ctrl, env_ctrl, pin_ctrl);\n\n    webio_session.on_server_message((msg: Command) => {\n        try {\n            let ok = dispatcher.dispatch_message(msg);\n            if (!ok) console.error('Unknown command:%s', msg.command);\n        } catch (e) {\n            console.error('Error(%s) in dispatch command: %s', e, msg.command);\n        }\n    });\n}\n\n\nfunction startWebIOClient(options: {\n    output_container_elem: JQuery,\n    input_container_elem: JQuery,\n    backend_address: string,\n    app_name: string,\n    protocol: string, // 'http', 'ws', 'auto'\n    runtime_config: { [name: string]: any }\n}) {\n    for (let key in options.runtime_config) {\n        // @ts-ignore\n        appConfig[key] = options.runtime_config[key];\n    }\n    const backend_addr = backend_absaddr(options.backend_address);\n\n    let start_session = (is_http: boolean) => {\n        let session;\n        if (is_http)\n            session = new HttpSession(backend_addr, options.app_name, appConfig.httpPullInterval);\n        else\n            session = new WebSocketSession(backend_addr, options.app_name);\n        set_up_session(session, options.output_container_elem, options.input_container_elem);\n        session.start_session(appConfig.debug);\n    };\n    if (options.protocol == 'auto')\n        is_http_backend(backend_addr).then(start_session);\n    else\n        start_session(options.protocol == 'http')\n}\n\n\n// @ts-ignore\nwindow.WebIO = {\n    '_state': state,\n    'startWebIOClient': startWebIOClient,\n    'openApp': openApp,\n};","import {InputItem} from \"./base\";\nimport {state} from \"../../state\";\n\nconst buttons_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label>{{label}}</label>  <br> {{/label}} \n    {{#buttons}}\n    <button type=\"{{btn_type}}\" data-type=\"{{type}}\" aria-describedby=\"{{name}}_help\" {{#disabled}}disabled data-pywebio-disabled{{/disabled}} class=\"btn btn-{{color}}\">{{label}}</button>\n    {{/buttons}}\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>  <!-- input 添加 is-invalid 类 -->\n    <div class=\"valid-feedback\">{{valid_feedback}}</div> <!-- input 添加 is-valid 类 -->\n    <small id=\"{{name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class Actions extends InputItem {\n    static accept_input_types: string[] = [\"actions\"];\n\n    submit_value: string = null; // 提交表单时按钮组的value\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        for (let b of this.spec.buttons) b['btn_type'] = b.type === \"submit\" ? \"submit\" : \"button\";\n\n        this.spec.color = \"primary\";  // default button color\n        const html = Mustache.render(buttons_tpl, this.spec);\n        this.element = $(html);\n        let btns = this.element.find('button');\n        for (let idx = 0; idx < this.spec.buttons.length; idx++)\n            btns.eq(idx).val(JSON.stringify(this.spec.buttons[idx].value));\n\n        let that = this;\n        this.element.find('button').on('click', function (e) {\n            let btn = $(this);\n            if (btn.data('type') === 'submit') {\n                // 不可以使用 btn.parents('form').submit()， 会导致input 的required属性失效\n                that.submit_value = JSON.parse(btn.val() as string);\n                if(that.spec.onchange)  // the `onchange` of spec will be only set in pin widget\n                    that.on_input_event(\"change\", that);\n            } else if (btn.data('type') === 'reset') {\n                btn.parents('form').trigger(\"reset\");\n            } else if (btn.data('type') === 'cancel') {\n                state.CurrentSession.send_message({\n                    event: \"from_cancel\",\n                    task_id: that.task_id,\n                    data: null\n                });\n            } else {\n                console.error(\"`actions` input: unknown button type '%s'\", btn.data('type'));\n            }\n        });\n\n        return this.element;\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        let idx = -1;\n        if ('target_value' in spec) {\n            this.element.find('button').each(function (index) {\n                if (JSON.parse($(this).val() as string) === spec.target_value) {\n                    idx = index;\n                    return false;\n                }\n            });\n        }\n        this.update_input_helper(idx, attributes);\n    }\n\n    get_value(): any {\n        return this.submit_value;\n    }\n}\n\n\n\n","export class InputItem {\n    static accept_input_types: string[] = [];\n\n\n    on_input_event: (event_name: string, input_item: InputItem) => void;\n    spec: any;\n    task_id: string;\n\n    element: JQuery = null; // 在 create_element() 时赋值\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        this.spec = spec;\n        this.task_id = task_id;\n        this.on_input_event = on_input_event;\n    }\n\n    create_element(): JQuery {\n        throw new Error(\"Not implement!\");\n    }\n\n    update_input(spec: any): any {\n        throw new Error(\"Not implement!\");\n    }\n\n    // return a value or promise\n    get_value(): any {\n        throw new Error(\"Not implement!\");\n    }\n\n    // 检查输入项的有效性，在表单提交时调用\n    check_valid(): boolean {\n        return true;\n    }\n\n    //在表单加入DOM树后触发\n    after_add_to_dom(): any {\n\n    }\n\n    //在表单被显示后触发\n    after_show(first_show: boolean): any {\n\n    }\n\n    /*\n    * input_idx: 更新作用对象input标签的索引, -1 为不指定对象\n    * attributes：更新值字典\n    * */\n    protected update_input_helper(input_idx: number, attributes: { [i: string]: any }) {\n        let attr2selector: { [i: string]: string } = {\n            'invalid_feedback': 'div.invalid-feedback',\n            'valid_feedback': 'div.valid-feedback',\n            'help_text': 'small.text-muted',\n            'label': '>label',\n        };\n        for (let attribute in attr2selector) {\n            if (attribute in attributes) {\n                this.element.find(attr2selector[attribute]).text(attributes[attribute]);\n                delete attributes[attribute];\n            }\n        }\n        let input_elem = this.element.find('input,select,textarea');\n        if (input_idx >= 0)\n            input_elem = input_elem.eq(input_idx);\n\n        if ('valid_status' in attributes) {\n            let class_name = attributes.valid_status ? 'is-valid' : 'is-invalid';\n            if (attributes.valid_status === 0) class_name = '';  // valid_status为0时，表示清空valid_status标志\n            input_elem.removeClass('is-valid is-invalid').addClass(class_name);\n            delete attributes.valid_status;\n        }\n        input_elem.prop(attributes);\n    }\n}\n\n\n\n","import {InputItem} from \"./base\";\nimport {deep_copy} from \"../../utils\"\n\nconst options_tpl = `\n{{#options}}\n<div class=\"form-check {{#inline}}form-check-inline{{/inline}}\">\n    <input type=\"{{type}}\" id=\"{{id_name_prefix}}-{{idx}}\" name=\"{{name}}\" {{#selected}}checked{{/selected}} {{#disabled}}disabled{{/disabled}} class=\"form-check-input\">\n    <label class=\"form-check-label\" for=\"{{id_name_prefix}}-{{idx}}\">\n        {{label}}\n    </label>\n</div>\n{{/options}}\n`;\n\nconst checkbox_radio_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label>{{label}}</label>{{#inline}}<br>{{/inline}} {{/label}}\n    ${options_tpl}\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div> \n    <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class CheckboxRadio extends InputItem {\n    static accept_input_types: string[] = [\"checkbox\", \"radio\"];\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = this.setup_spec();\n        const html = Mustache.render(checkbox_radio_tpl, spec);\n        let elem = $(html);\n        this.setup_input_options(elem, spec.options);\n        this.element = elem;\n        return this.element;\n    }\n\n    setup_spec() {\n        let spec = deep_copy(this.spec);\n        const id_name_prefix = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name_prefix'] = id_name_prefix;\n        for (let idx in spec.options) {\n            spec.options[idx]['idx'] = idx;\n        }\n        return spec;\n    }\n\n    setup_input_options(elem: JQuery, options: any) {\n        let inputs = elem.find('input');\n        for (let idx = 0; idx < options.length; idx++) {\n            let input_elem = inputs.eq(idx);\n            if(this.spec.onblur) {\n                input_elem.on(\"blur\", (e) => {\n                    this.on_input_event(\"blur\", this);\n                });\n            }\n            if(this.spec.onchange){\n                input_elem.on(\"change\", (e) => {\n                    this.on_input_event(\"change\", this);\n                });\n            }\n            input_elem.val(JSON.stringify(options[idx].value));\n            // 将额外的html参数加到input标签上\n            for (let key in options[idx]) {\n                if (key in {'value': '', 'label': '', 'selected': ''}) continue;\n                input_elem.attr(key, options[idx][key]);\n            }\n        }\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        let idx = -1;\n        if ('target_value' in spec) {\n            this.element.find('input').each(function (index) {\n                if (JSON.parse($(this).val() as string) === spec.target_value) {\n                    idx = index;\n                    return false;\n                }\n            });\n        }\n\n        if ('value' in attributes) {\n            this.element.find('input:checked').prop('checked', false);\n            let values: any[] = attributes.value;\n            if (this.spec.type === 'radio') {\n                values = [attributes.value];\n            }\n            this.element.find('input').each(function (index) {\n                let item_val = JSON.parse($(this).val() as string);\n                if (values.indexOf(item_val) != -1) {\n                    $(this).prop('checked', true);\n                }\n            });\n            delete attributes['value'];\n        }\n\n        if ('options' in attributes) {\n            this.spec.options = attributes.options;\n            let spec = this.setup_spec();\n            const html = Mustache.render(options_tpl, spec);\n            this.element.find('.form-check').remove();\n            this.element.find('.invalid-feedback').before(html);\n            this.setup_input_options(this.element, spec.options);\n            delete attributes['options'];\n        }\n\n        if ('valid_status' in attributes) {\n            this.element.find('.invalid-feedback,.valid-feedback').hide();\n            if (attributes.valid_status === true)\n                this.element.find('.valid-feedback').show();\n            else if (attributes.valid_status === false)\n                this.element.find('.invalid-feedback').show();\n        }\n        this.update_input_helper(idx, attributes);\n    }\n\n    get_value(): any {\n        if (this.spec.type === 'radio') {\n            let raw_val = this.element.find('input:checked').val() || 'null';\n            return JSON.parse(raw_val as string);\n        } else {\n            let value_arr = this.element.find('input').serializeArray();\n            let res: any[] = [];\n            let that = this;\n            $.each(value_arr, function (idx, val) {\n                if (val.name === that.spec.name)\n                    res.push(JSON.parse(val.value as string));\n            });\n            return res;\n        }\n    }\n}\n\n\n\n","import {InputItem} from \"./base\";\nimport {deep_copy, serialize_file} from \"../../utils\";\nimport {t} from \"../../i18n\";\n\nconst file_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <div class=\"custom-file\">\n        <input type=\"file\" name=\"{{name}}\" class=\"custom-file-input\" id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_help\">\n        <label class=\"custom-file-label\" for=\"{{id_name}}\" data-browse=\"{{browse_file}}\"><span>{{placeholder}}</span></label>\n        <div class=\"invalid-feedback\">{{invalid_feedback}}</div>  <!-- input 添加 is-invalid 类 -->\n        <div class=\"valid-feedback\">{{valid_feedback}}</div> <!-- input 添加 is-valid 类 -->\n        <small id=\"{{id_name}}_help\"  class=\"form-text text-muted\">{{help_text}}</small>\n    </div>\n</div>`;\n\nexport class File extends InputItem {\n    static accept_input_types: string[] = [\"file\"];\n\n    files: Blob[] = []; // Files to be uploaded\n    valid = true;\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        const id_name = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name'] = id_name;\n\n        const html = Mustache.render(file_input_tpl, {...spec, browse_file: t('browse_file')});\n        this.element = $(html);\n        let input_elem = this.element.find('input[type=\"file\"]');\n\n        const ignore_keys = {\n            'label': '',\n            'invalid_feedback': '',\n            'valid_feedback': '',\n            'help_text': '',\n            'placeholder': ''\n        };\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        // 文件选中后先不通知后端\n        let that = this;\n        input_elem.on('change', function () {\n            that.files = [];\n            let total_size = 0;\n            that.valid = true;\n            let file = (input_elem[0] as HTMLInputElement).files;\n            for (let f of file) {\n                total_size += f.size;\n\n                if (that.spec.max_size && f.size > that.spec.max_size) {\n                    that.valid = false;\n                    that.update_input_helper(-1, {\n                        'valid_status': false,\n                        'invalid_feedback': t(\"file_size_exceed\", f.name, that._formate_size(that.spec.max_size)),\n                    });\n                } else if (that.spec.max_total_size && total_size > that.spec.max_total_size) {\n                    that.valid = false;\n                    that.update_input_helper(-1, {\n                        'valid_status': false,\n                        'invalid_feedback': t(\"file_total_size_exceed\", that._formate_size(that.spec.max_total_size))\n                    });\n                    return;\n                }\n                if (!that.valid) return;\n                that.update_input_helper(-1, {'valid_status': 0});\n\n                that.files.push(serialize_file(f, spec.name));\n\n            }\n\n        });\n\n        return this.element;\n    }\n\n    _formate_size(size: number): string {\n        for (let s of ['Byte', 'Kb', 'Mb']) {\n            if (size / 1024 < 1)\n                return size.toFixed(2) + s;\n            size = size / 1024;\n        }\n        return size.toFixed(2) + 'Gb';\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        this.update_input_helper(-1, attributes);\n    }\n\n    check_valid(): boolean {\n        return this.valid;\n    }\n\n    get_value(): any {\n        return this.files;\n    }\n\n    after_add_to_dom(): any {\n        bsCustomFileInput.init();\n    }\n}\n\n\n\n","import {Input} from \"./input\"\nimport {Actions} from \"./actions\"\nimport {CheckboxRadio} from \"./checkbox_radio\"\nimport {Textarea} from \"./textarea\"\nimport {File} from \"./file\"\nimport {Select} from \"./select\"\nimport {Slider} from \"./slider\"\nimport {InputItem} from \"./base\";\n\n\nexport const all_input_items = [Input, Actions, CheckboxRadio, Textarea, File, Select, Slider];\n\nexport function get_input_item_from_type(type: string) {\n    return type2item[type];\n}\n\nlet type2item: { [t: string]: typeof InputItem } = {}\nfor (let item of all_input_items) {\n    for (let t of item.accept_input_types)\n        type2item[t] = item;\n}\n","import {InputItem} from \"./base\";\nimport {deep_copy} from \"../../utils\"\nimport {state} from \"../../state\";\n\nconst datalist_tpl = `\n{{#datalist}} \n<option>{{.}}</option> \n{{/datalist}}`;\n\nconst common_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    {{#action}}<div class=\"input-group\">{{/action}} \n        <input type=\"{{type}}\" id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_action_btn\" list=\"{{id_name}}-list\" class=\"form-control\" >\n        <datalist id=\"{{id_name}}-list\">\n            ${datalist_tpl}\n        </datalist>\n        {{#action}} \n        <div class=\"input-group-append\">\n            <button class=\"btn btn-outline-secondary single-input-action-btn\" type=\"button\" id=\"{{id_name}}_action_btn\" data-callbackid=\"{{callback_id}}\">{{label}}</button>\n        </div>\n        {{/action}} \n        <div class=\"invalid-feedback\">{{invalid_feedback}}</div>\n        <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    {{#action}}</div>{{/action}} \n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\n\nexport class Input extends InputItem {\n    static accept_input_types: string[] = [\"text\", \"password\", \"number\", \"float\", \"color\", \"date\", \"range\", \"time\", \"email\", \"url\"];\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        const id_name = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name'] = id_name;\n        if (spec['type'] == 'float') spec['type'] = 'text';\n\n        let html = Mustache.render(common_input_tpl, spec);\n\n        this.element = $(html);\n\n        this.element.find(`#${id_name}_action_btn`).on('click', function (e) {\n            let btn = $(this);\n            state.CurrentSession.send_message({\n                event: \"callback\",\n                task_id: btn.data('callbackid') as string,\n                data: null\n            });\n        });\n\n        let input_elem = this.element.find('input');\n        if (spec.onblur) {\n            // blur事件时，发送当前值到服务器\n            input_elem.on(\"blur\", (e) => {\n                if (this.get_value())\n                    this.on_input_event(\"blur\", this);\n            });\n        }\n        if (spec.onchange) {\n            input_elem.on(\"input\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n\n        // 将额外的html参数加到input标签上\n        const ignore_keys = {\n            'action': '',\n            'type': '',\n            'label': '',\n            'invalid_feedback': '',\n            'valid_feedback': '',\n            'help_text': '',\n            'options': '',\n            'datalist': '',\n            'multiple': ''\n        };\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        return this.element;\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        if ('datalist' in attributes) {\n            const datalist_html = Mustache.render(datalist_tpl, {datalist: attributes.datalist});\n            this.element.find('datalist').empty().append(datalist_html);\n            delete attributes['datalist'];\n        }\n\n        this.update_input_helper(-1, attributes);\n    }\n\n    get_value(): any {\n        let val= this.element.find('input').val();\n        if(this.spec['type']=='number')\n            val = parseInt(val as string);\n        else if (this.spec['type']=='float')\n            val = parseFloat(val as string);\n        return val;\n    }\n}\n\n","import {InputItem} from \"./base\";\nimport {deep_copy} from \"../../utils\"\n\nconst options_tpl = `\n{{#options}}\n<option {{#selected}}selected{{/selected}} {{#disabled}}disabled{{/disabled}}>{{label}}</option>\n{{/options}}\n`;\nconst select_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <select id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_help\" class=\"form-control\" {{#multiple}}multiple{{/multiple}}>\n        ${options_tpl}\n    </select>\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>\n    <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class Select extends InputItem {\n    static accept_input_types: string[] = [\"select\"];\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        const id_name = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        spec['id_name'] = id_name;\n\n        let html = Mustache.render(select_input_tpl, spec);\n        this.element = $(html);\n        this.setup_select_options(this.element, spec.options);\n\n        if(spec.onblur) {\n            // blur事件时，发送当前值到服务器\n            this.element.find('select').on(\"blur\", (e) => {\n                this.on_input_event(\"blur\", this);\n            });\n        }\n        if(spec.onchange){\n            this.element.find('select').on(\"change\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n        return this.element;\n    }\n\n    setup_select_options(elem: JQuery, options: any) {\n        let input_elem = elem.find('select');\n        let opts = input_elem.find('option');\n        for (let idx = 0; idx < options.length; idx++)\n            opts.eq(idx).val(JSON.stringify(options[idx].value));\n\n        // 将额外的html参数加到input标签上\n        const ignore_keys = {\n            'type': '',\n            'label': '',\n            'invalid_feedback': '',\n            'valid_feedback': '',\n            'help_text': '',\n            'options': '',\n            'datalist': '',\n            'multiple': ''\n        };\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n\n        if ('options' in attributes) {\n            const opts_html = Mustache.render(options_tpl, {options: attributes.options});\n            this.element.find('select').empty().append(opts_html);\n            this.setup_select_options(this.element, attributes.options);\n            delete attributes['options'];\n        }\n\n        if ('value' in attributes) {\n            this.element.find('option').prop('selected', false);\n            let values: any[] = attributes.value;\n            if (!this.spec.multiple) {\n                values = [attributes.value];\n            }\n            this.element.find('option').each(function (index) {\n                let item_val = JSON.parse($(this).val() as string);\n                if (values.indexOf(item_val) != -1) {\n                    $(this).prop('selected', true);\n                }\n            });\n            delete attributes['value'];\n        }\n\n        this.update_input_helper(-1, attributes);\n    }\n\n    get_value(): any {\n        let raw_val = this.element.find('select').val();\n        if (this.spec.multiple) {\n            let res: any[] = [];\n            for (let i of (raw_val as string[]))\n                res.push(JSON.parse(i));\n            return res;\n        } else {\n            return JSON.parse(raw_val as string);\n        }\n    }\n}\n\n","import {InputItem} from \"./base\";\nimport {deep_copy, make_set} from \"../../utils\";\n\nconst slider_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <input type=\"range\" class=\"form-control-range\" name=\"{{name}}\" min=\"{{min_value}}\" max=\"{{max_value}}\" value=\"{{value}}\" id=\"{{id_name}}\">\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>\n    <div class=\"valid-feedback\">{{valid_feedback}}</div>\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\nexport class Slider extends InputItem {\n    static accept_input_types: string[] = [\"slider\"];\n\n    files: Blob[] = []; // Files to be uploaded\n    valid = true;\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element(): JQuery {\n        let spec = deep_copy(this.spec);\n        spec['id_name'] = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n\n        const html = Mustache.render(slider_input_tpl, spec);\n        this.element = $(html);\n        let input_elem = this.element.find('input[type=\"range\"]');\n\n        const ignore_keys = make_set(['value', 'type', 'label', 'invalid_feedback', 'valid_feedback',\n            'help_text', 'min_value', 'max_value', 'id_name', 'name', 'float']);\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n\n        if (spec.onblur) {\n            // blur事件时，发送当前值到服务器\n            input_elem.on(\"blur\", (e) => {\n                this.on_input_event(\"blur\", this);\n            });\n        }\n        if (spec.onchange) {\n            input_elem.on(\"change\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n\n        return this.element;\n    }\n\n    update_input(spec: any): any {\n        let attributes = spec.attributes;\n        this.update_input_helper(-1, attributes);\n    }\n\n    get_value(): any {\n        let val = this.element.find('input[type=\"range\"]').val();\n        if (this.spec['float'])\n            val = parseFloat(val as string);\n        else\n            val = parseInt(val as string);\n        return val;\n    }\n\n}\n\n\n\n","import {InputItem} from \"./base\";\nimport {deep_copy, make_set} from \"../../utils\"\nimport {config as appConfig} from \"../../state\";\n\n\nconst textarea_input_tpl = `\n<div class=\"form-group\">\n    {{#label}}<label for=\"{{id_name}}\">{{label}}</label>{{/label}}\n    <textarea id=\"{{id_name}}\" aria-describedby=\"{{id_name}}_help\" rows=\"{{rows}}\" class=\"form-control\" >{{value}}</textarea>\n    <div class=\"invalid-feedback\">{{invalid_feedback}}</div>  <!-- input 添加 is-invalid 类 -->\n    <div class=\"valid-feedback\">{{valid_feedback}}</div> <!-- input 添加 is-valid 类 -->\n    <small id=\"{{id_name}}_help\" class=\"form-text text-muted\">{{help_text}}</small>\n</div>`;\n\n\nexport class Textarea extends InputItem {\n    static accept_input_types: string[] = [\"textarea\"];\n\n    private code_mirror: any = null;\n    private code_mirror_config: { [name: string]: any } = {\n        'theme': 'base16-light',\n        'lineNumbers': true,  // 显示行数\n        'indentUnit': 4,  //缩进单位为4\n        'styleActiveLine': true,  // 当前行背景高亮\n        'matchBrackets': true,  //括号匹配\n        'lineWrapping': true,  //自动换行\n        'autoRefresh': true,  // https://codemirror.net/doc/manual.html#addon_autorefresh\n        'extraKeys': {\n            // Full Screen Editing, https://codemirror.net/demo/fullscreen.html\n            \"F11\": function (cm: any) {\n                cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n            },\n            \"Esc\": function (cm: any) {\n                cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n            }\n        }\n    };\n\n    constructor(spec: any, task_id: string, on_input_event: (event_name: string, input_item: InputItem) => void) {\n        super(spec, task_id, on_input_event);\n    }\n\n    create_element() {\n        let that = this;\n\n        let spec = deep_copy(this.spec);\n        spec['id_name'] = spec.name + '-' + Math.floor(Math.random() * Math.floor(9999));\n        let html = Mustache.render(textarea_input_tpl, spec);\n        this.element = $(html);\n        let input_elem = this.element.find('textarea');\n\n        // blur事件时，发送当前值到服务器\n        // input_elem.on('blur', this.send_value_listener);\n        if (spec.onchange) {\n            input_elem.on(\"input\", (e) => {\n                this.on_input_event(\"change\", this);\n            });\n        }\n\n        // 将额外的html参数加到input标签上\n        const ignore_keys = make_set(['value', 'type', 'label', 'invalid_feedback', 'valid_feedback', 'help_text', 'rows', 'code']);\n        for (let key in this.spec) {\n            if (key in ignore_keys) continue;\n            input_elem.attr(key, this.spec[key]);\n        }\n        if (spec.code) {\n            if (spec.code === true) spec.code = {mode: 'text/plain'};\n            CodeMirror.modeURL = appConfig.codeMirrorModeURL;\n\n            for (let k in that.spec.code)\n                this.code_mirror_config[k] = that.spec.code[k];\n\n            // Get mode name by extension or MIME\n            let origin_mode = spec.code.mode || 'text/plain';\n            let mode_info = CodeMirror.findModeByExtension(origin_mode) || CodeMirror.findModeByMIME(origin_mode);\n            if (mode_info)\n                this.code_mirror_config.mode = mode_info.mode;\n\n            if (that.spec.readonly || that.spec.disabled)\n                this.code_mirror_config['readOnly'] = \"nocursor\";\n\n            if (this.code_mirror_config.theme && this.code_mirror_config.theme !== 'base16-light')\n                Textarea.load_codemirror_theme(this.code_mirror_config.theme);\n        }\n\n        return this.element;\n    };\n\n    update_input(spec: any) {\n        let attributes = spec.attributes;\n        if (this.code_mirror && 'value' in attributes) {\n            this.code_mirror.setValue(attributes['value']);\n            delete attributes['value'];\n        }\n\n        this.update_input_helper.call(this, -1, attributes);\n    };\n\n    get_value() {\n        if (this.code_mirror)\n            return this.code_mirror.getValue();\n\n        return this.element.find('textarea').val();\n    };\n\n    after_show(first_show: boolean): any {\n        if (first_show && this.spec.code) {\n            this.code_mirror = CodeMirror.fromTextArea(this.element.find('textarea')[0], this.code_mirror_config);\n            if (CodeMirror.autoLoadMode) {\n                try {\n                    CodeMirror.autoLoadMode(this.code_mirror, this.code_mirror_config.mode);\n                } catch (e) {\n                    console.error('CodeMirror load mode `%s` error: %s', this.code_mirror_config.mode, e);\n                }\n            }\n            if (this.spec.onchange)\n                this.code_mirror.on('change', (instance: object, changeObj: object) => {\n                    this.on_input_event(\"change\", this);\n                })\n            this.code_mirror.setSize(null, 20 * this.spec.rows);\n        }\n    };\n\n    static load_codemirror_theme(theme: string, url_tpl = appConfig.codeMirrorThemeURL) {\n        let cssId = 'codemirror_theme_' + theme;  // you could encode the css path itself to generate id..\n        if (!document.getElementById(cssId)) {\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.id = cssId;\n            link.rel = 'stylesheet';\n            link.type = 'text/css';\n            link.href = url_tpl.replace('%N', theme);\n            link.media = 'all';\n            head.appendChild(link);\n        }\n    }\n}\n\n\n\n","import {b64toBlob, randomid} from \"../utils\";\nimport * as marked from 'marked';\nimport {pushData} from \"../session\";\nimport {PinWidget} from \"./pin\";\nimport {t} from \"../i18n\";\nimport {AfterCurrentOutputWidgetShow} from \"../handlers/output\";\n\nexport interface Widget {\n    handle_type: string;\n\n    get_element(spec: any): JQuery;  // The length of element must equal 1\n}\n\nlet Text = {\n    handle_type: 'text',\n    get_element: function (spec: any): JQuery {\n        let elem = spec.inline ? $('<span></span>') : $('<p></p>');\n        elem.attr('style', 'white-space: pre-wrap;');\n        elem.append(document.createTextNode(spec.content));\n        return elem;\n    }\n};\n\nmarked.setOptions({\n    breaks: true, //可行尾不加两空格直接换行\n    smartLists: true,\n    smartypants: false,\n    mangle: false,\n    highlight: function (code, lang, callback) {\n        if (Prism.languages[lang]) {\n            try {\n                code = Prism.highlight(code, Prism.languages[lang]);\n            } catch (e) {\n                console.error('Prism highlight error:' + e)\n            }\n        }\n        if (callback)\n            return callback(null, code);\n        else\n            return code;\n    },\n});\n\nlet Markdown = {\n    handle_type: 'markdown',\n    get_element: function (spec: any) {\n        // spec.options, see also https://marked.js.org/using_advanced#options\n        let html_str = marked(spec.content, spec.options);\n        if (spec.sanitize)\n            try {\n                html_str = DOMPurify.sanitize(html_str);\n            } catch (e) {\n                console.log('Sanitize html failed: %s\\nHTML: \\n%s', e, html_str);\n            }\n        return $(html_str);\n    }\n};\n\n// 将html字符串解析成jQuery对象\nfunction parseHtml(html_str: string) {\n    let nodes = $.parseHTML(html_str, null, true);\n    let elem;\n    if (nodes.length != 1)\n        elem = $(document.createElement('div')).append(nodes);\n    else\n        elem = $(nodes[0]);\n    return elem;\n}\n\nlet Html = {\n    handle_type: 'html',\n    get_element: function (spec: any) {\n        let html_str = spec.content;\n        if (spec.sanitize)\n            try {\n                html_str = DOMPurify.sanitize(html_str);\n            } catch (e) {\n                console.log('Sanitize html failed: %s\\nHTML: \\n%s', e, html_str);\n            }\n        return parseHtml(html_str);\n    }\n};\n\nlet Buttons = {\n    handle_type: 'buttons',\n    get_element: function (spec: any) {\n        const btns_tpl = `<div{{#group}} class=\"btn-group\" role=\"group\"{{/group}}>{{#buttons}} \n                                <button class=\"btn {{#color}}btn-{{#outline}}outline-{{/outline}}{{color}}{{/color}}{{#small}} btn-sm{{/small}}\">{{label}}</button> \n                          {{/buttons}}</div>`;\n        spec.color = \"primary\";  // fallback color\n        if (spec.link) {\n            spec.outline = false;\n            for (let btn of spec.buttons)\n                btn.color = 'link';\n        }\n\n        let html = Mustache.render(btns_tpl, spec);\n        let elem = $(html);\n\n        let btns = elem.find('button');\n        for (let idx = 0; idx < spec.buttons.length; idx++) {\n            btns.eq(idx).on('click', (e) => {\n                pushData(spec.buttons[idx].value, spec.callback_id);\n            });\n        }\n\n        return elem;\n    }\n};\n\n// 已废弃。为了向下兼容而保留\nlet File = {\n    handle_type: 'file',\n    get_element: function (spec: any) {\n        const html = `<div><button type=\"button\" class=\"btn btn-link\">${spec.name}</button></div>`;\n        let element = $(html);\n        let blob = b64toBlob(spec.content);\n        element.on('click', 'button', function (e) {\n            saveAs(blob, spec.name, {}, false);\n        });\n\n        return element;\n    }\n};\n\n\nlet Table = {\n    handle_type: 'table',\n    get_element: function (spec: { data: any[][], span: { [i: string]: { col: number, row: number } } }) {\n        const table_tpl = `\n<table>\n    <tr>\n        {{#header}} \n        <th{{#col}} colspan=\"{{col}}\"{{/col}}{{#row}} rowspan=\"{{row}}\"{{/row}}>{{#content}}{{& pywebio_output_parse}}{{/content}}</th> \n        {{/header}}\n    </tr>\n      {{#tdata}} \n      <tr>\n        {{# . }} \n        <td{{#col}} colspan=\"{{col}}\"{{/col}}{{#row}} rowspan=\"{{row}}\"{{/row}}>{{#content}}{{& pywebio_output_parse}}{{/content}}</td> \n        {{/ . }} \n      </tr>\n      {{/tdata}}\n    \n</table>`;\n\n        interface itemType {\n            content: any, // spec of sub-output\n            col?: number,\n            row?: number\n        }\n\n        // 将spec转化成模版引擎的输入\n        let table_data: itemType[][] = [];\n        for (let row_id in spec.data) {\n            table_data.push([]);\n            let row = spec.data[row_id];\n            for (let col_id in row) {\n                let data = spec.data[row_id][col_id];\n\n                // 处理简单类型单元格，即单元格不是output命令的spec\n                if (typeof data !== 'object') {\n                    data = {type: 'text', content: data, inline: true};\n                }\n\n                table_data[row_id].push({\n                    content: data,\n                    ...(spec.span[row_id + ',' + col_id] || {})\n                });\n            }\n        }\n\n        let header: itemType[], data: itemType[][];\n        [header, ...data] = table_data;\n        let html = render_tpl(table_tpl, {header: header, tdata: data});\n        return $(html);\n    }\n};\n\nconst TABS_TPL = `<div class=\"webio-tabs\">\n{{#tabs}}\n    <input type=\"radio\" class=\"toggle\" name=\"{{#uniqueid}}name{{/uniqueid}}\" id=\"{{#uniqueid}}name{{/uniqueid}}{{index}}\" {{#checked}}checked{{/checked}}>\n    <label for=\"{{#uniqueid}}name{{/uniqueid}}{{index}}\">{{title}}</label>\n    <div class=\"webio-tabs-content\">\n    {{#content}}\n        {{& pywebio_output_parse}}\n    {{/content}}\n    </div>\n{{/tabs}}\n</div>`;\n\nlet TabsWidget = {\n    handle_type: 'tabs',\n    get_element: function (spec: { tabs: { title: string, content: any, index: number, checked: boolean }[] }) {\n        spec.tabs[0]['checked'] = true;\n        for (let idx = 0; idx < spec.tabs.length; idx++) {\n            spec.tabs[idx]['index'] = idx;\n        }\n\n        return render_tpl(TABS_TPL, spec);\n    }\n};\n\n\nconst SCOPE_TPL = `<div>\n    {{#contents}}\n        {{& pywebio_output_parse}}\n    {{/contents}}\n</div>`;\nlet ScopeWidget = {\n    handle_type: 'scope',\n    get_element: function (spec: {dom_id:string, contents: any[]}) {\n        let elem = render_tpl(SCOPE_TPL, spec);\n        // need to check the duplicate id after current output widget shown.\n        // because the current widget may have multiple sub-widget which have same dom id.\n        AfterCurrentOutputWidgetShow(()=>{\n            if($(`#${spec.dom_id}`).length !== 0){\n                let tip = `<p style=\"color: grey; border:1px solid #ced4da; padding: .375rem .75rem;\">${t(\"duplicated_scope_name\")}</p>`;\n                elem.empty().html(tip);\n            }else{\n                elem.attr('id', spec.dom_id);\n            }\n        })\n        return elem;\n    }\n};\n\n\nlet CustomWidget = {\n    handle_type: 'custom_widget',\n    get_element: function (spec: { template: string, data: { [i: string]: any } }) {\n        return render_tpl(spec.template, spec.data);\n    }\n};\n\nlet all_widgets: Widget[] = [Text, Markdown, Html, Buttons, File, Table, CustomWidget, TabsWidget, PinWidget, ScopeWidget];\n\n\nlet type2widget: { [i: string]: Widget } = {};\nfor (let w of all_widgets)\n    type2widget[w.handle_type] = w;\n\nexport function getWidgetElement(spec: any) {\n    if (!(spec.type in type2widget))\n        throw Error(\"Unknown type in getWidgetElement() :\" + spec.type);\n\n    let elem = type2widget[spec.type].get_element(spec);\n    if (spec.style) {\n        // add style attribute\n        let old_style = elem.attr('style') || '';\n        elem.attr({\"style\": old_style + ';' + spec.style});\n    }\n    if (spec.click_callback_id) {\n        elem.on('click', (e) => {\n            pushData(null, spec.click_callback_id);\n        });\n        elem.addClass('pywebio-clickable');\n    }\n    if (spec.container_dom_id) {\n        if (spec.container_selector)\n            elem.find(spec.container_selector).attr('id', spec.container_dom_id);\n        else\n            elem.attr('id', spec.container_dom_id);\n    }\n    return elem;\n}\n\n\nexport function render_tpl(tpl: string, data: { [i: string]: any }) {\n    let placeholder2spec: { [name: string]: any } = {};\n\n    // {{#content}}{{& pywebio_output_parse}}{{/content}}\n    data['pywebio_output_parse'] = function () {\n        if (!this.type)\n            return getWidgetElement({type: 'text', content: this, inline: true})[0].outerHTML;\n        let dom_id = 'ph-' + randomid(10);\n        placeholder2spec[dom_id] = this;\n        return `<div id=\"${dom_id}\"></div>`;\n    };\n\n    // {{#uniqueid}}name{{/uniqueid}}\n    // {{uniqueid}}\n    let names2id: { [name: string]: any } = {};\n    data['uniqueid'] = function () {\n        return function (name: string) {\n            if (name) {\n                if (!(name in names2id))\n                    names2id[name] = 'webio-' + randomid(10);\n\n                return names2id[name];\n            } else {\n                return 'webio-' + randomid(10);\n            }\n        };\n    };\n\n    // count the function call number\n    // {{index}}\n    let cnt = 0;\n    data['index'] = function () {\n        cnt += 1;\n        return cnt;\n    };\n\n    let html = Mustache.render(tpl, data);\n    let elem = parseHtml(html);\n    for (let dom_id in placeholder2spec) {\n        let spec = placeholder2spec[dom_id];\n        try {\n            let sub_elem = getWidgetElement(spec);\n            elem.find(`#${dom_id}`).replaceWith(sub_elem);\n        } catch (e) {\n            console.error('Error when render widget: \\n%s\\nSPEC:%s', e, JSON.stringify(spec));\n        }\n    }\n    return elem;\n}","import {get_input_item_from_type} from \"./input/index\"\nimport {InputItem} from \"./input/base\";\nimport {t} from \"../i18n\";\nimport {AfterCurrentOutputWidgetShow} from \"../handlers/output\";\n\n\nlet name2input: { [k: string]: InputItem } = {};\n\nexport function GetPinValue(name: string) {\n    return name2input[name].get_value();\n}\n\nexport function PinUpdate(name: string, attributes: { [k: string]: any }) {\n    name2input[name].update_input({attributes: attributes});\n}\n\nlet onchange_callbacks: { [name: string]: ((val: any) => void)[] } = {}; // name->[]\n\nexport function WaitChange(names: string[], timeout: number) {\n    let promises = [];\n    for (let name of names) {\n        if (!(name in onchange_callbacks))\n            onchange_callbacks[name] = [];\n\n        promises.push(new Promise(resolve => {\n            onchange_callbacks[name].push(value => {\n                resolve({'name': name, 'value': value})\n            });\n        }));\n    }\n    if (timeout) {\n        promises.push(new Promise(resolve => {\n            setTimeout(() => {\n                resolve(null);\n            }, timeout * 1000);\n        }));\n    }\n    return Promise.race(promises);\n}\n\nfunction trigger_onchange_event(name: string, value: any) {\n    let resolve_list = onchange_callbacks[name] || [];\n    for (let resolve of resolve_list)\n        resolve(value);\n}\n\nexport let PinWidget = {\n    handle_type: 'pin',\n    get_element: function (spec: any) {\n        let input_spec = spec.input;\n        if (input_spec.name in name2input) {\n            let tip = `<p style=\"color: grey; border:1px solid #ced4da; padding: .375rem .75rem;\">${t(\"duplicated_pin_name\")}</p>`;\n            name2input[input_spec.name].element.replaceWith(tip);\n        }\n\n        input_spec.onchange = true;\n        input_spec.onblur = true;\n        let InputClass = get_input_item_from_type(input_spec.type);\n        let input_item = new InputClass(input_spec, null, (event, input_item) => {\n            if (event == 'change')\n                trigger_onchange_event(input_spec.name, input_item.get_value());\n        });\n\n        name2input[input_spec.name] = input_item;\n\n        AfterCurrentOutputWidgetShow(() => {\n            input_item.after_add_to_dom();\n            input_item.after_show(true);\n        });\n\n        return input_item.create_element();\n    }\n};\n\n\n","import {error_alert} from \"./utils\";\nimport {state} from \"./state\";\nimport {t} from \"./i18n\";\n\nexport interface Command {\n    command: string\n    task_id: string\n    spec: any\n}\n\nexport interface ClientEvent {\n    event: string,\n    task_id: string,\n    data: any\n}\n\n\n/*\n* 会话\n* 向外暴露的事件：on_session_create、on_session_close、on_server_message\n* 提供的函数：start_session、send_message、close_session\n* */\nexport interface Session {\n    webio_session_id: string;\n\n    on_session_create(callback: () => void): void;\n\n    on_session_close(callback: () => void): void;\n\n    on_server_message(callback: (msg: Command) => void): void;\n\n    start_session(debug: boolean): void;\n\n    send_message(msg: ClientEvent, onprogress?: (loaded: number, total: number) => void): void;\n\n    send_buffer(data: Blob, onprogress?: (loaded: number, total: number) => void): void;\n\n    close_session(): void;\n\n    closed(): boolean;\n}\n\nfunction safe_poprun_callbacks(callbacks: (() => void)[], name = 'callback') {\n    while (callbacks.length)\n        try {\n            callbacks.pop().call(this);\n        } catch (e) {\n            console.log('Error in %s: %s', name, e);\n        }\n}\n\nexport class WebSocketSession implements Session {\n    ws: WebSocket;\n    debug: boolean;\n    webio_session_id: string = 'NEW';\n    private _closed: boolean; // session logic closed (by `close_session` command)\n    private _session_create_ts = 0;\n    private _session_create_callbacks: (() => void)[] = [];\n    private _session_close_callbacks: (() => void)[] = [];\n    private _on_server_message: (msg: Command) => any = () => {\n    };\n\n    constructor(public ws_api: string, public app_name: string = 'index') {\n        this.ws = null;\n        this.debug = false;\n        this._closed = false;\n    }\n\n    set_ws_api() {\n        let url = new URL(this.ws_api);\n        if (url.protocol !== 'wss:' && url.protocol !== 'ws:') {\n            let protocol = url.protocol || window.location.protocol;\n            url.protocol = protocol.replace('https', 'wss').replace('http', 'ws');\n        }\n        url.search = `?app=${this.app_name}&session=${this.webio_session_id}`;\n        this.ws_api = url.href;\n    }\n\n    on_session_create(callback: () => any): void {\n        this._session_create_callbacks.push(callback);\n    };\n\n    on_session_close(callback: () => any): void {\n        this._session_close_callbacks.push(callback);\n    }\n\n    on_server_message(callback: (msg: Command) => any): void {\n        this._on_server_message = callback;\n    }\n\n    start_session(debug: boolean = false): void {\n        let that = this;\n\n        this.set_ws_api();\n\n        this._session_create_ts = Date.now();\n        this.debug = debug;\n        this.ws = new WebSocket(this.ws_api);\n        this.ws.onopen = () => {\n            safe_poprun_callbacks(this._session_create_callbacks, 'session_create_callback');\n        };\n\n        this.ws.onclose = function (evt) {\n            if (!that._closed && that.webio_session_id != 'NEW') {  // not receive `close_session` command && enabled reconnection\n                const session_create_interval = 5000;\n                if (Date.now() - that._session_create_ts > session_create_interval)\n                    that.start_session(that.debug);\n                else\n                    setTimeout(() => {\n                        that.start_session(that.debug);\n                    }, session_create_interval - Date.now() + that._session_create_ts);\n            } else {\n                that.close_session();\n            }\n        };\n        this.ws.onmessage = function (evt) {\n            let msg: Command = JSON.parse(evt.data);\n            if (debug) console.info('>>>', JSON.parse(evt.data));\n            that._on_server_message(msg);\n        };\n    }\n\n    start_onprogress(onprogress?: (loaded: number, total: number) => void): void {\n        let total = this.ws.bufferedAmount;\n        let onprogressID = setInterval(() => {\n            let loaded = total - this.ws.bufferedAmount;\n            onprogress(loaded, total);\n            if (this.ws.bufferedAmount == 0)\n                clearInterval(onprogressID);\n        }, 200);\n    }\n\n    send_message(msg: ClientEvent, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.closed())\n            return error_alert(t(\"disconnected_with_server\"));\n\n        if (this.ws === null)\n            return console.error('WebSocketWebIOSession.ws is null when invoke WebSocketWebIOSession.send_message. ' +\n                'Please call WebSocketWebIOSession.start_session first');\n        this.ws.send(JSON.stringify(msg));\n\n        if (onprogress)\n            this.start_onprogress(onprogress);\n\n        if (this.debug) console.info('<<<', msg);\n    }\n\n    send_buffer(data: Blob, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.closed())\n            return error_alert(t(\"disconnected_with_server\"));\n\n        if (this.ws === null)\n            return console.error('WebSocketWebIOSession.ws is null when invoke WebSocketWebIOSession.send_message. ' +\n                'Please call WebSocketWebIOSession.start_session first');\n\n        this.ws.send(data);\n\n        if (onprogress)\n            this.start_onprogress(onprogress);\n\n        if (this.debug) console.info('<<< Blob data...');\n    }\n\n    close_session(): void {\n        this._closed = true;\n        safe_poprun_callbacks(this._session_close_callbacks, 'session_close_callback');\n        try {\n            this.ws.close();\n        } catch (e) {\n        }\n    }\n\n    closed(): boolean {\n        return this._closed || this.ws.readyState === WebSocket.CLOSED || this.ws.readyState === WebSocket.CLOSING;\n    }\n}\n\n\nexport class HttpSession implements Session {\n    interval_pull_id: number = null;\n    webio_session_id: string = 'NEW';\n    debug = false;\n\n    private _closed = false;\n    private _session_create_callbacks: (() => void)[] = [];\n    private _session_close_callbacks: (() => void)[] = [];\n    private _on_server_message: (msg: Command) => void = () => {\n    };\n\n\n    constructor(public api_url: string, app_name = 'index', public pull_interval_ms = 1000) {\n        let url = new URL(api_url, window.location.href);\n        url.search = \"?app=\" + app_name;\n        this.api_url = url.href;\n    }\n\n    on_session_create(callback: () => void): void {\n        this._session_create_callbacks.push(callback);\n    }\n\n    on_session_close(callback: () => void): void {\n        this._session_close_callbacks.push(callback);\n    }\n\n    on_server_message(callback: (msg: Command) => void): void {\n        this._on_server_message = callback;\n    }\n\n    start_session(debug: boolean = false): void {\n        this.debug = debug;\n        this.pull();\n        this.interval_pull_id = setInterval(() => {\n            this.pull()\n        }, this.pull_interval_ms);\n    }\n\n    pull() {\n        let that = this;\n        $.ajax({\n            type: \"GET\",\n            url: this.api_url,\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            headers: {\"webio-session-id\": this.webio_session_id},\n            success: function (data: Command[], textStatus: string, jqXHR: JQuery.jqXHR) {\n                safe_poprun_callbacks(that._session_create_callbacks, 'session_create_callback');\n                that._on_request_success(data, textStatus, jqXHR);\n            },\n            error: function () {\n                console.error('Http pulling failed');\n            }\n        })\n    }\n\n    private _on_request_success(data: Command[], textStatus: string, jqXHR: JQuery.jqXHR) {\n        let sid = jqXHR.getResponseHeader('webio-session-id');\n        if (sid) this.webio_session_id = sid;\n\n        for (let msg of data) {\n            if (this.debug) console.info('>>>', msg);\n            this._on_server_message(msg);\n        }\n    };\n\n    send_message(msg: ClientEvent, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.debug) console.info('<<<', msg);\n        this._send({\n            data: JSON.stringify(msg),\n            contentType: \"application/json; charset=utf-8\",\n        }, onprogress);\n    }\n\n    send_buffer(data: Blob, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.debug) console.info('<<< Blob data...');\n        this._send({\n            data: data,\n            cache: false,\n            processData: false,\n            contentType: 'application/octet-stream',\n        }, onprogress);\n    }\n\n    _send(options: { [key: string]: any; }, onprogress?: (loaded: number, total: number) => void): void {\n        if (this.closed())\n            return error_alert(t(\"disconnected_with_server\"));\n\n        $.ajax({\n            ...options,\n            type: \"POST\",\n            url: this.api_url,\n            dataType: \"json\",\n            headers: {\"webio-session-id\": this.webio_session_id},\n            success: this._on_request_success.bind(this),\n            xhr: function () {\n                let xhr = new window.XMLHttpRequest();\n                // Upload progress\n                xhr.upload.addEventListener(\"progress\", function (evt) {\n                    if (evt.lengthComputable && onprogress) {\n                        onprogress(evt.loaded, evt.total);\n                    }\n                }, false);\n                return xhr;\n            },\n            error: function () {\n                console.error('Http push blob data failed');\n                error_alert(t(\"connect_fail\"));\n            }\n        });\n    }\n\n    close_session(): void {\n        this._closed = true;\n        safe_poprun_callbacks(this._session_close_callbacks, 'session_close_callback');\n        clearInterval(this.interval_pull_id);\n    }\n\n    closed(): boolean {\n        return this._closed;\n    }\n\n    change_pull_interval(new_interval: number): void {\n        clearInterval(this.interval_pull_id);\n        this.pull_interval_ms = new_interval;\n        this.interval_pull_id = setInterval(() => {\n            this.pull()\n        }, this.pull_interval_ms);\n    }\n}\n\n/*\n* Check given `backend_addr` is a http backend\n* Usage:\n*   // `http_backend` is a boolean to present whether or not a http_backend the given `backend_addr` is\n*   is_http_backend('http://localhost:8080/io').then(function(http_backend){ });\n* */\nexport function is_http_backend(backend_addr: string) {\n    let url = new URL(backend_addr);\n    let protocol = url.protocol || window.location.protocol;\n    url.protocol = protocol.replace('wss', 'https').replace('ws', 'http');\n    backend_addr = url.href;\n\n    return new Promise(function (resolve, reject) {\n        $.get(backend_addr, {test: 1}, undefined, 'html').done(function (data: string) {\n            resolve(data === 'ok');\n        }).fail(function (e: JQuery.jqXHR) {\n            resolve(false);\n        });\n    });\n}\n\n\n// Send data to backend\nexport function pushData(data: any, callback_id: string) {\n    if (state.CurrentSession === null)\n        return console.error(\"can't invoke PushData when WebIOController is not instantiated\");\n\n    state.CurrentSession.send_message({\n        event: \"callback\",\n        task_id: callback_id,\n        data: data\n    });\n}","import {Session} from \"./session\";\n\n// Runtime state\nexport let state = {\n    AutoScrollBottom: false,  // 是否有新内容时自动滚动到底部\n    CurrentSession: null as Session,  // 当前正在活跃的会话\n    ShowDuration: 200,  // ms, 显示表单的过渡动画时长\n    InputPanelMinHeight: 300,  // 输入panel的最小高度\n    InputPanelInitHeight: 300,  // 输入panel的初始高度\n    FixedInputPanel:true,\n    AutoFocusOnInput:true,\n};\n\n// App config\nexport let config = {\n    codeMirrorModeURL: \"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/mode/%N/%N.min.js\",\n    codeMirrorThemeURL: \"https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/theme/%N.min.css\",\n    outputAnimation: true, // 启用内容输出动画\n    httpPullInterval: 1000,  // HttpSession 拉取消息的周期（ms）\n    debug: false,  // 调试模式， 打印所有交互的消息\n};\n","import {state} from \"./state\";\n\nlet has_input = false;\nlet input_panel = $('#input-container');\nlet input_cards = $('#input-cards');\nlet end_space = $('#end-space');\n\nexport function show_input() {\n    close_input();\n    has_input = true;\n    if (($(window).height() - input_panel[0].getBoundingClientRect().top < input_min_fixed_height() - 40)) {\n        toggle_input_panel_style(true);\n    }\n}\n\nexport function close_input() {\n    has_input = false;\n    if (input_panel.hasClass('fixed')) {\n        input_panel.removeClass('fixed');\n    }\n    input_panel.height('unset');\n    end_space.height(0);\n}\n\n\nfunction input_min_fixed_height() { // 返回当前的输入panel的最小高度\n    const min_fixed_height = Math.max(state.InputPanelMinHeight, 75);\n\n    //80 = #input-container.fixed padding-top + padding-bottom\n    let now_height = input_cards.height() + 80;\n\n    return Math.min(now_height, min_fixed_height);\n}\n\n\nfunction fixed_input_init_height() { // 返回当前的输入panel的初始高度\n    const init_fixed_height = Math.max(state.InputPanelInitHeight, 175);\n\n    //80 = #input-container.fixed padding-top + padding-bottom\n    let now_height = input_cards.height() + 80;\n\n    return Math.min(now_height, init_fixed_height);\n}\n\n\nfunction toggle_input_panel_style(fixed: boolean) {\n    fixed = state.FixedInputPanel && fixed;\n    if (!fixed) {\n        input_panel.removeClass('fixed');\n        end_space.height(0);\n        input_panel.height('unset');\n    } else {\n        let min = fixed_input_init_height();\n        end_space.height(min - 40);  // 40 =  #input-container.fixed padding-top\n        input_panel.height(min);\n        // input_panel显示动画\n        // input_panel.height(0);\n        // input_panel.stop().animate({height: min}, {duration: 50, easing: 'swing'});\n        input_panel.addClass('fixed');\n    }\n}\n\n\nfunction move_input_panel(step: number) {\n    let new_height = input_panel.height() + step;\n    if (new_height >= input_cards.height())\n        new_height = input_cards.height();\n    else if (new_height <= input_min_fixed_height() - 80)   //80 = #input-container.fixed padding-top + padding-bottom\n        new_height = input_min_fixed_height() - 80;\n\n    input_panel.height(new_height);\n    end_space.height(new_height - 40); // 40 =  #input-container.fixed padding-top\n}\n\n\n$(function () {\n    input_panel = $('#input-container');\n    input_cards = $('#input-cards');\n    end_space = $('#end-space');\n\n\n    let lastScrollTop = 0; // to Detecting scroll direction.  Credits: https://stackoverflow.com/questions/31223341/detecting-scroll-direction\n    $(window).on('scroll', function () {\n        let st = window.pageYOffset || document.documentElement.scrollTop; // Credits: \"https://github.com/qeremy/so/blob/master/so.dom.js#L426\"\n        let downmove = st < lastScrollTop;\n        let upmove = st > lastScrollTop;\n\n        if (!input_panel.hasClass('fixed')) {\n            // 40 =  #input-container.fixed padding-top\n            if (($(window).height() - input_panel[0].getBoundingClientRect().top < input_min_fixed_height() - 40) && downmove && has_input) {\n                toggle_input_panel_style(true);\n                st = window.pageYOffset || document.documentElement.scrollTop;\n            }\n        } else {\n            // 到达底部\n            // 50 = footer height\n            if ($(window).scrollTop() + window.innerHeight > $(document).height() - 50 && upmove) {  // issue $(window).height() < window.innerHeight in mobile phone\n                toggle_input_panel_style(false);\n                st = window.pageYOffset || document.documentElement.scrollTop;\n            }\n        }\n        lastScrollTop = st <= 0 ? 0 : st; // For Mobile or negative scrolling\n    });\n\n    input_panel[0].addEventListener(\"wheel\", function (e) {\n        // Credits: https://stackoverflow.com/questions/30892830/detect-scrolling-on-pages-without-a-scroll-bar\n\n        if (!input_panel.hasClass('fixed')) return;\n        e.preventDefault();\n\n        // to make it work on IE or Chrome\n        // @ts-ignore\n        let variation = parseInt(e.deltaY);\n        move_input_panel(variation);\n    });\n\n    let last_y = -1;\n    input_panel[0].addEventListener(\"touchstart\", function (evt) {\n        if (evt.changedTouches.length > 1)\n            return;\n        last_y = evt.changedTouches[0].screenY;\n    });\n\n\n    input_panel[0].addEventListener(\"touchmove\", function (evt) {\n        if (!input_panel.hasClass('fixed')) return;\n        if (evt.changedTouches.length > 1)\n            return;\n        evt.preventDefault();\n        let variation = last_y - evt.changedTouches[0].screenY;\n        last_y = evt.changedTouches[0].screenY;\n        move_input_panel(variation);\n    });\n});\n","// Indexable Types\n\ninterface Dict {\n    [index: string]: any;\n}\n\nexport class LRUMap {\n    keys: string[] = [];\n    map: Dict = {};\n\n    push(key: string, value: any) {\n        if (key in this.map)\n            return console.error(\"LRUMap: key:%s already in map\", key);\n        this.keys.push(key);\n        this.map[key] = value;\n    };\n\n    get_value(key: string) {\n        return this.map[key];\n    };\n\n    get_top() {\n        let top_key = this.keys[this.keys.length - 1];\n        return this.map[top_key];\n    };\n\n    set_value(key: string, value: any) {\n        if (!(key in this.map))\n            return console.error(\"LRUMap: key:%s not in map when call `set_value`\", key);\n        this.map[key] = value;\n    };\n\n    move_to_top(key: string) {\n        const index = this.keys.indexOf(key);\n        if (index > -1) {\n            this.keys.splice(index, 1);\n            this.keys.push(key);\n        } else {\n            return console.error(\"LRUMap: key:%s not in map when call `move_to_top`\", key);\n        }\n    };\n\n    remove(key: string) {\n        if (key in this.map) {\n            delete this.map[key];\n            this.keys.splice(this.keys.indexOf(key), 1);\n        } else {\n            return console.error(\"LRUMap: key:%s not in map when call `remove`\", key);\n        }\n    };\n\n}\n\n\nexport function b64toBlob(b64Data: string, contentType = 'application/octet-stream', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n    }\n\n    const blob = new Blob(byteArrays, {type: contentType});\n    return blob;\n}\n\nexport function make_set(arr: string[]) {\n    let set: { [i: string]: string } = {};\n    for (let val of arr)\n        set[val] = '';\n    return set;\n}\n\nexport function deep_copy(obj: any): any {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n\n// container 为带有滚动条的元素\nexport function body_scroll_to(target: JQuery, position = 'top', complete?: (this: HTMLElement) => void, offset = 0) {\n    let scrollTop = null;\n    if (position === 'top')\n        scrollTop = target.offset().top;\n    else if (position === 'middle')\n        scrollTop = target.offset().top + 0.5 * target[0].clientHeight - 0.5 * $(window).height();\n    else if (position === 'bottom')\n        scrollTop = target[0].clientHeight + target.offset().top - $(window).height();\n\n    let container = $('body,html');\n    let speed = Math.abs(container.scrollTop() - scrollTop - offset);\n    if (scrollTop !== null)\n        container.stop().animate({scrollTop: scrollTop + offset}, Math.min(speed, 500) + 100, complete);\n}\n\n// container 为带有滚动条的元素\nexport function box_scroll_to(target: JQuery, container: JQuery, position = 'top', complete?: (this: HTMLElement) => void, offset = 0) {\n    let scrollTopOffset = null;\n    if (position === 'top')\n        scrollTopOffset = target[0].getBoundingClientRect().top - container[0].getBoundingClientRect().top;\n    else if (position === 'middle')\n        scrollTopOffset = target[0].getBoundingClientRect().top - container[0].getBoundingClientRect().top - container.height() * 0.5 + target.height() * 0.5;\n    else if (position === 'bottom')\n        scrollTopOffset = target[0].getBoundingClientRect().bottom - container[0].getBoundingClientRect().bottom;\n\n    let speed = Math.min(Math.abs(scrollTopOffset + offset), 500) + 100;\n    if (scrollTopOffset !== null)\n        container.stop().animate({scrollTop: container.scrollTop() + scrollTopOffset + offset}, speed, complete);\n}\n\n\nexport function randomid(length: number) {\n    let result = '';\n    let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\n// 跳转PyWebIO Application\n// name: app名称\n// new_window: 是否在新窗口打开\nexport function openApp(name: string, new_window: boolean) {\n    let url = new URL(window.location.href);\n    url.searchParams.set(\"app\", name);\n    if (new_window)\n        window.open(url.href);\n    else\n        window.location.href = url.href;\n}\n\n\nexport function error_alert(text: string, duration: number = 1.5) {\n    Toastify({\n        text: Mustache.escape(text),\n        duration: duration * 1000,\n        gravity: \"top\",\n        position: 'center',\n        backgroundColor: '#e53935',\n    }).showToast();\n}\n\n\n// make File object to Blob\nexport function serialize_file(file: File, input_name: string) {\n    let header = {\n        'filename': file.name,\n        'size': file.size,\n        'mime_type': file.type,\n        'last_modified': file.lastModified / 1000,\n        'input_name': input_name\n    }\n    return new Blob([serialize_json(header), int2bytes(file.size), file], {type: 'application/octet-stream'});\n}\n\n// make json object to Blob\nexport function serialize_json(json_obj: any) {\n    let json_str = JSON.stringify(json_obj);\n    const encoder = new TextEncoder();\n    const json_buf = encoder.encode(json_str).buffer;\n    return new Blob([int2bytes(json_buf.byteLength), json_buf], {type: 'application/octet-stream'});\n}\n\nfunction int2bytes(num: number) {\n    const buf = new ArrayBuffer(8);\n    const dataView = new DataView(buf);\n    dataView.setUint32(0, (num / 4294967296) | 0); // 4294967296 == 2^32\n    dataView.setUint32(4, num | 0);\n    return buf;\n}"]}